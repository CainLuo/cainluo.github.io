
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Cain Luo">
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.0">
    
    
  
    <title>Vapor:  6.Versioning & Migration</title>
  

    
  
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2e8b5541.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
  <link rel="stylesheet" type="text/css" href="../../../styles/carbon.css">

    
  
  <script src="../../../scripts/carbon.js"></script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#6versioning-migration" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Cain Blog" class="md-header__button md-logo" aria-label="Cain Blog" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cain Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6.Versioning & Migration
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Cain Blog" class="md-nav__button md-logo" aria-label="Cain Blog" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    Cain Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Core Data By Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core Data By Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Core Data By Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/1.Your%20First%20Core%20Data%20App/" class="md-nav__link">
        1.Your First Core Data App
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/2.NSManagedObject%20Subclasses/" class="md-nav__link">
        2.NSManagedObject Subclasses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/3.The%20Core%20Data%20Stack/" class="md-nav__link">
        3.The Core Data Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/4.Intermediate%20Fetching/" class="md-nav__link">
        4.Intermediate Fetching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/5.NSFetchedResults%20Controller/" class="md-nav__link">
        5.NSFetchedResults Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/6.Versioning%20%26%20Migration/" class="md-nav__link">
        6.Versioning & Migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/7.Unit%20Testing/" class="md-nav__link">
        7.Unit Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/8.Measuring%20%26%20Boosting%20Performance/" class="md-nav__link">
        8.Measuring & Boosting Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../en/9.Multiple%20Managed%20Object%20Contexts/" class="md-nav__link">
        9.Multiple Managed Object Contexts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          watchOS With SwiftUI by Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="watchOS With SwiftUI by Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          watchOS With SwiftUI by Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/1.Hello%2C%20Apple%20Watch/" class="md-nav__link">
        1.Hello, Apple Watch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS With SwiftUI by Tutorials/en/1.Section I watchOS With SwiftUI.md" class="md-nav__link">
        2.Section I watchOS With SwiftUI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/3.Project%20Structure/" class="md-nav__link">
        3.Project Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/4.Digital%20Crown/" class="md-nav__link">
        4.Digital Crown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/5.Watch%20Connectivity/" class="md-nav__link">
        5.Watch Connectivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/6.Snapshots/" class="md-nav__link">
        6.Snapshots
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/7.Notifications/" class="md-nav__link">
        7.Notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/8.Lifecycle/" class="md-nav__link">
        8.Lifecycle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/9.Complications/" class="md-nav__link">
        9.Complications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/10.Keeping%20Complications%20Updated/" class="md-nav__link">
        10.Keeping Complications Updated
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../watchOS%20With%20SwiftUI%20by%20Tutorials/en/11.Face%20Sharing/" class="md-nav__link">
        11.Face Sharing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Modern Concurrency in Swift
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modern Concurrency in Swift" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modern Concurrency in Swift
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/1.Section%20I%20Modern%20Concurrency%20in%20Swift/" class="md-nav__link">
        1.Section I Modern Concurrency in Swift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/2.Chapter%201%20Why%20Modern%20Swift%20Concurrency/" class="md-nav__link">
        2.Chapter 1 Why Modern Swift Concurrency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/3.Chapter%202%20Getting%20Started%20With%20asyncawait/" class="md-nav__link">
        3.Chapter 2 Getting Started With asyncawait
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/4.Chapter%203%20AsyncSequence%20%26%20Intermediate%20Task/" class="md-nav__link">
        4.Chapter 3 AsyncSequence & Intermediate Task
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/5.Chapter%204%20Custom%20Asynchronous%20Sequences%20With%20AsyncStream/" class="md-nav__link">
        5.Chapter 4 Custom Asynchronous Sequences With AsyncStream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/6.Chapter%205%20Intermediate%20asyncawait%20%26%20CheckedContinuation/" class="md-nav__link">
        6.Chapter 5 Intermediate asyncawait & CheckedContinuation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/7.Chapter%206%20Testing%20Asynchronous%20Code/" class="md-nav__link">
        7.Chapter 6 Testing Asynchronous Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/8.Chapter%207%20Concurrent%20Code%20With%20TaskGroup/" class="md-nav__link">
        8.Chapter 7 Concurrent Code With TaskGroup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/9.Chapter%208%20Getting%20Started%20With%20Actors/" class="md-nav__link">
        9.Chapter 8 Getting Started With Actors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/10.Chapter%209%20Global%20Actors/" class="md-nav__link">
        10.Chapter 9 Global Actors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/11.Chapter%2010%20Actors%20in%20a%20Distributed%20System/" class="md-nav__link">
        11.Chapter 10 Actors in a Distributed System
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Modern%20Concurrency%20in%20Swift/en/12.Conclusion/" class="md-nav__link">
        12.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Unity Apprentice
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Unity Apprentice" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Unity Apprentice
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/1.Section%20I%20Creating%20Your%20First%20Game/" class="md-nav__link">
        1.Section I Creating Your First Game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/2.Getting%20Started/" class="md-nav__link">
        2.Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/3.Installing%20%26%20Using%20the%20Unity%20Editor/" class="md-nav__link">
        3.Installing & Using the Unity Editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/4.GameObjects%20%26%20Prefabs/" class="md-nav__link">
        4.GameObjects & Prefabs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/5.Creating%20%26%20Using%20Scripts%20With%20C%23/" class="md-nav__link">
        5.Creating & Using Scripts With C#
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/6.Section%20II%20Now%20You%27re%20Building%20With%20Components/" class="md-nav__link">
        6.Section II Now You're Building With Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/7.Setting%20Up%20a%20Scene/" class="md-nav__link">
        7.Setting Up a Scene
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/8.Input%20%26%20Collisions/" class="md-nav__link">
        8.Input & Collisions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/9.User%20Interfaces/" class="md-nav__link">
        9.User Interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/10.Scriptable%20Objects/" class="md-nav__link">
        10.Scriptable Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/11.Section%20III%20Smart%20Enemies%20%26%20the%20Bigger%20Picture/" class="md-nav__link">
        11.Section III Smart Enemies & the Bigger Picture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/12.Basic%20AI%20%26%20Navigation/" class="md-nav__link">
        12.Basic AI & Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/13.Advanced%20Camera%20Controls%20With%20Cinemachine/" class="md-nav__link">
        13.Advanced Camera Controls With Cinemachine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/14.Asynchronous%20Functions%2C%20Coroutines%20%26%20Object%20Pooling/" class="md-nav__link">
        14.Asynchronous Functions, Coroutines & Object Pooling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/15.Section%20IV%20Cooking%20Up%20Animations/" class="md-nav__link">
        15.Section IV Cooking Up Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/16.Basic%20Animation%20Principles/" class="md-nav__link">
        16.Basic Animation Principles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/17.Advanced%20Animation%20Principles/" class="md-nav__link">
        17.Advanced Animation Principles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/18.Advanced%20Scriptable%20Objects/" class="md-nav__link">
        18.Advanced Scriptable Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Unity%20Apprentice/en/19.Conclusion/" class="md-nav__link">
        19.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Living by the Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Living by the Code" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Living by the Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/1.Community/" class="md-nav__link">
        1.Community
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/2.An%20Interview%20with%20Britt%20Barak/" class="md-nav__link">
        2.An Interview with Britt Barak
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/3.An%20Interview%20with%20Ellen%20Shapiro/" class="md-nav__link">
        3.An Interview with Ellen Shapiro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/4.An%20Interview%20with%20Antonio%20Leiva/" class="md-nav__link">
        4.An Interview with Antonio Leiva
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/5.An%20Interview%20with%20Lara%20Martin/" class="md-nav__link">
        5.An Interview with Lara Martin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/6.An%20Interview%20with%20Sarah%20Olson/" class="md-nav__link">
        6.An Interview with Sarah Olson
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/7.An%20Interview%20with%20Paco%20Este%CC%81vez%20GarcI%CC%81a/" class="md-nav__link">
        7.An Interview with Paco Estévez GarcÍa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/8.An%20Interview%20with%20Corey%20Leigh%20Latislaw/" class="md-nav__link">
        8.An Interview with Corey Leigh Latislaw
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/9.An%20Interview%20with%20Zarah%20Dominguez/" class="md-nav__link">
        9.An Interview with Zarah Dominguez
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/10.An%20Interview%20with%20Juhani%20Lehtima%CC%88ki/" class="md-nav__link">
        10.An Interview with Juhani Lehtimäki
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/11.An%20Interview%20with%20Erik%20Hellman/" class="md-nav__link">
        11.An Interview with Erik Hellman
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/12.An%20Interview%20with%20Eduardo%20Castello%CC%81%20Ferrer/" class="md-nav__link">
        12.An Interview with Eduardo Castelló Ferrer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/13.An%20Interview%20with%20Ash%20Furrow/" class="md-nav__link">
        13.An Interview with Ash Furrow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/14.An%20Interview%20with%20Hadi%20Hariri/" class="md-nav__link">
        14.An Interview with Hadi Hariri
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/15.An%20Interview%20with%20Roman%20Elizarov/" class="md-nav__link">
        15.An Interview with Roman Elizarov
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/16.Getting%20to%20Work/" class="md-nav__link">
        16.Getting to Work
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/17.An%20Interview%20with%20John%20Sundell/" class="md-nav__link">
        17.An Interview with John Sundell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/18.An%20Interview%20with%20Felix%20Krause/" class="md-nav__link">
        18.An Interview with Felix Krause
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/19.An%20Interview%20with%20Joe%20Birch/" class="md-nav__link">
        19.An Interview with Joe Birch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/20.An%20Interview%20with%20Gabriel%20Peal/" class="md-nav__link">
        20.An Interview with Gabriel Peal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/21.An%20Interview%20with%20Marin%20Todorov/" class="md-nav__link">
        21.An Interview with Marin Todorov
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/22.An%20Interview%20with%20Mike%20Wolfson/" class="md-nav__link">
        22.An Interview with Mike Wolfson
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/23.An%20Interview%20with%20Ty%20Smith/" class="md-nav__link">
        23.An Interview with Ty Smith
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/24.An%20Interview%20with%20Marcin%20Moskala/" class="md-nav__link">
        24.An Interview with Marcin Moskala
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/25.An%20Interview%20with%20In%CC%83aki%20Villar/" class="md-nav__link">
        25.An Interview with Iñaki Villar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/26.An%20Interview%20with%20Oluwasegun%20Famisa/" class="md-nav__link">
        26.An Interview with Oluwasegun Famisa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/27.An%20Interview%20with%20Fernando%20Cejas/" class="md-nav__link">
        27.An Interview with Fernando Cejas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living by the Code/en/28.An Interview with Tanner Wayne Nelson.md.md" class="md-nav__link">
        28.An Interview with Tanner Wayne Nelson.md
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/29.An%20Interview%20with%20Annyce%20Davis/" class="md-nav__link">
        29.An Interview with Annyce Davis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/30.An%20Interview%20with%20Rau%CC%81l%20Raja%20Marti%CC%81nez/" class="md-nav__link">
        30.An Interview with Raúl Raja Martínez
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/31.An%20Interview%20with%20Paul%20Blundell/" class="md-nav__link">
        31.An Interview with Paul Blundell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living by the Code/en/32.An Interview with César Valiente.md.md" class="md-nav__link">
        32.An Interview with César Valiente.md
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/33%20An%20Interview%20with%20Israel%20Ferrer%20Camacho/" class="md-nav__link">
        33 An Interview with Israel Ferrer Camacho
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/34.Leadership/" class="md-nav__link">
        34.Leadership
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/35.An%20Interview%20with%20Dr.%20Joseph%20Howard/" class="md-nav__link">
        35.An Interview with Dr. Joseph Howard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/36.An%20Interview%20with%20Ray%20Wenderlich/" class="md-nav__link">
        36.An Interview with Ray Wenderlich
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/37.An%20Interview%20with%20Cate%20Huston/" class="md-nav__link">
        37.An Interview with Cate Huston
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/38.An%20Interview%20with%20Cyril%20Mottier/" class="md-nav__link">
        38.An Interview with Cyril Mottier
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/39.An%20Interview%20with%20Huyen%20Tue%20Dao/" class="md-nav__link">
        39.An Interview with Huyen Tue Dao
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/40.An%20Interview%20with%20Marcin%20Krzyzanowski/" class="md-nav__link">
        40.An Interview with Marcin Krzyzanowski
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/41.An%20Interview%20with%20Mike%20Nakhimovich/" class="md-nav__link">
        41.An Interview with Mike Nakhimovich
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/42.An%20Interview%20with%20Danny%20Preussler/" class="md-nav__link">
        42.An Interview with Danny Preussler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Living%20by%20the%20Code/en/43.An%20Interview%20with%20Mark%20Allison/" class="md-nav__link">
        43.An Interview with Mark Allison
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Git Apprentice
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git Apprentice" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Git Apprentice
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/1.Section%20I%20Beginning%20Git/" class="md-nav__link">
        1.Section I Beginning Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/2.A%20Crash%20Course%20in%20Git/" class="md-nav__link">
        2.A Crash Course in Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/3.Cloning%20a%20Repo/" class="md-nav__link">
        3.Cloning a Repo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/4.Committing%20Your%20Changes/" class="md-nav__link">
        4.Committing Your Changes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/5.The%20Staging%20Area/" class="md-nav__link">
        5.The Staging Area
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/6.Ignoring%20Files%20in%20Git/" class="md-nav__link">
        6.Ignoring Files in Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/7.Git%20Log%20%26%20History/" class="md-nav__link">
        7.Git Log & History
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/8.Branching/" class="md-nav__link">
        8.Branching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/9.Merging/" class="md-nav__link">
        9.Merging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/10.Syncing%20With%20a%20Remote/" class="md-nav__link">
        10.Syncing With a Remote
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/11.Creating%20a%20Repository/" class="md-nav__link">
        11.Creating a Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/12.Conclusion/" class="md-nav__link">
        12.Conclusion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/13.Section%20II%20Appendices/" class="md-nav__link">
        13.Section II Appendices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Git%20Apprentice/cn/14.A%20Appendix%20A%20Installing%20%26%20Configuring%20Git/" class="md-nav__link">
        14.A Appendix A Installing & Configuring Git
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          App Design Apprentice
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="App Design Apprentice" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          App Design Apprentice
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/1.Section%20I%20Design%20%26%20Tool%20Fundamentals/" class="md-nav__link">
        1.Section I Design & Tool Fundamentals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/2.Book%20Overview%20%26%20App%20Preview/" class="md-nav__link">
        2.Book Overview & App Preview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/3.Workspace%20Tour%20%26%20Figma%20Fundamentals/" class="md-nav__link">
        3.Workspace Tour & Figma Fundamentals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/4.App%20Teardowns/" class="md-nav__link">
        4.App Teardowns
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/5.Section%20II%20Components%20%26%20Design%20Systems/" class="md-nav__link">
        5.Section II Components & Design Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/6.Wireframing%20%26%20Screen%20Layout/" class="md-nav__link">
        6.Wireframing & Screen Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/7.Reusable%20Elements%20%26%20Data/" class="md-nav__link">
        7.Reusable Elements & Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/8.Typography/" class="md-nav__link">
        8.Typography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/9.Colors/" class="md-nav__link">
        9.Colors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/10.Design%20Systems/" class="md-nav__link">
        10.Design Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/11.Section%20III%20Interactive%20prototypes%20%26%20Developer%20Handoff/" class="md-nav__link">
        11.Section III Interactive prototypes & Developer Handoff
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/12.Transitions%20%26%20Animations/" class="md-nav__link">
        12.Transitions & Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/13.Feedback%20%26%20Testing/" class="md-nav__link">
        13.Feedback & Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/14.Insights%20%26%20Next%20Steps/" class="md-nav__link">
        14.Insights & Next Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../App%20Design%20Apprentice/en/15.Conclusion/" class="md-nav__link">
        15.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Auto Layout by Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Auto Layout by Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Auto Layout by Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/1.Section%20I%20Beginning%20Auto%20Layout/" class="md-nav__link">
        1.Section I Beginning Auto Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/2.Introducing%20Auto%20Layout/" class="md-nav__link">
        2.Introducing Auto Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/3.Construct%20Auto%20Layout%20with%20the%20Interface%20Builder/" class="md-nav__link">
        3.Construct Auto Layout with the Interface Builder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/4.Stack%20View/" class="md-nav__link">
        4.Stack View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/5.Section%20II%20Intermediate%20Auto%20Layout/" class="md-nav__link">
        5.Section II Intermediate Auto Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/6.Construct%20Auto%20Layout%20with%20Code/" class="md-nav__link">
        6.Construct Auto Layout with Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/7.Scroll%20View/" class="md-nav__link">
        7.Scroll View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/8.Self-Sizing%20Views/" class="md-nav__link">
        8.Self-Sizing Views
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/9.Layout%20Guides/" class="md-nav__link">
        9.Layout Guides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/10.Content-Hugging%20%26%20Compression-Resistance%20Priorities/" class="md-nav__link">
        10.Content-Hugging & Compression-Resistance Priorities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/11.Animating%20Auto%20Layout%20Constraints/" class="md-nav__link">
        11.Animating Auto Layout Constraints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/12.Adaptive%20Layout/" class="md-nav__link">
        12.Adaptive Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/13.Dynamic%20Type/" class="md-nav__link">
        13.Dynamic Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/14.Internationalization%20%26%20Localization/" class="md-nav__link">
        14.Internationalization & Localization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/15.Common%20Auto%20Layout%20Issues/" class="md-nav__link">
        15.Common Auto Layout Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/16.Section%20III%20Advanced%20Auto%20Layout/" class="md-nav__link">
        16.Section III Advanced Auto Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/17.Under%20the%20Hood%20of%20Auto%20Layout/" class="md-nav__link">
        17.Under the Hood of Auto Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/18.Optimizing%20Auto%20Layout%20Performance/" class="md-nav__link">
        18.Optimizing Auto Layout Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/19.Layout%20Prototyping%20with%20Playgrounds/" class="md-nav__link">
        19.Layout Prototyping with Playgrounds
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/20.Auto%20Layout%20for%20External%20Displays/" class="md-nav__link">
        20.Auto Layout for External Displays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/21.Designing%20Custom%20Controls/" class="md-nav__link">
        21.Designing Custom Controls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Auto%20Layout%20by%20Tutorials/en/22.Conclusion/" class="md-nav__link">
        22.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          SwiftUI Animations by Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SwiftUI Animations by Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          SwiftUI Animations by Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/1.Introducing SwiftUI Animations" class="md-nav__link">
        1.Introducing SwiftUI Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/2.Getting to Know SwiftUI Animations" class="md-nav__link">
        2.Getting to Know SwiftUI Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/3.View Transitions" class="md-nav__link">
        3.View Transitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/4.Drawing Custom Components" class="md-nav__link">
        4.Drawing Custom Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/5.Applying Complex Transformations & Interactions" class="md-nav__link">
        5.Applying Complex Transformations & Interactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/6.Intro to Custom Animations" class="md-nav__link">
        6.Intro to Custom Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/7.Complex Custom Animations" class="md-nav__link">
        7.Complex Custom Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/8.Time-Based Animations" class="md-nav__link">
        8.Time-Based Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/9.Combining Animations" class="md-nav__link">
        9.Combining Animations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/10.Recreating a Real-World Animation" class="md-nav__link">
        10.Recreating a Real-World Animation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI Animations by Tutorials/en/11.Conclusion" class="md-nav__link">
        11.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Flutter Apprentice
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flutter Apprentice" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Flutter Apprentice
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/1.Section%20I%20Build%20Your%20First%20Flutter%20App/" class="md-nav__link">
        1.Section I Build Your First Flutter App
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/2.Getting%20Started/" class="md-nav__link">
        2.Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/3.Hello%2C%20Flutter/" class="md-nav__link">
        3.Hello, Flutter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/4.Section%20II%20Everything%E2%80%99s%20a%20Widget/" class="md-nav__link">
        4.Section II Everything’s a Widget
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/5.Basic%20Widgets/" class="md-nav__link">
        5.Basic Widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/6.Understanding%20Widgets/" class="md-nav__link">
        6.Understanding Widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/7.Scrollable%20Widgets/" class="md-nav__link">
        7.Scrollable Widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/8.Interactive%20Widgets/" class="md-nav__link">
        8.Interactive Widgets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/9.Section%20III%20Navigating%20Between%20Screens/" class="md-nav__link">
        9.Section III Navigating Between Screens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/10.Routes%20%26%20Navigation/" class="md-nav__link">
        10.Routes & Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/11.Deep%20Links%20%26%20Web%20URLs/" class="md-nav__link">
        11.Deep Links & Web URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/12.Section%20IV%20Networking%2C%20Persistence%20and%20State/" class="md-nav__link">
        12.Section IV Networking, Persistence and State
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/13.Handling%20Shared%20Preferences/" class="md-nav__link">
        13.Handling Shared Preferences
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/14.Serialization%20With%20JSON/" class="md-nav__link">
        14.Serialization With JSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/15.Networking%20in%20Flutter/" class="md-nav__link">
        15.Networking in Flutter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/16.Using%20a%20Network%20Library/" class="md-nav__link">
        16.Using a Network Library
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/17.Managing%20State/" class="md-nav__link">
        17.Managing State
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/18.Working%20With%20Streams/" class="md-nav__link">
        18.Working With Streams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/19.Saving%20Data%20With%20SQLite/" class="md-nav__link">
        19.Saving Data With SQLite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/20.Section%20V%20Deployment/" class="md-nav__link">
        20.Section V Deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/21.Platform-Specific%20App%20Assets/" class="md-nav__link">
        21.Platform-Specific App Assets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/22.Build%20%26%20Release%20an%20Android%20App/" class="md-nav__link">
        22.Build & Release an Android App
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/23.Build%20%26%20Release%20an%20iOS%20App/" class="md-nav__link">
        23.Build & Release an iOS App
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/24.Section%20VI%20Working%20With%20Firebase%20Cloud%20Firestore/" class="md-nav__link">
        24.Section VI Working With Firebase Cloud Firestore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/25.Firebase%20Cloud%20Firestore/" class="md-nav__link">
        25.Firebase Cloud Firestore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/26.Conclusion/" class="md-nav__link">
        26.Conclusion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/27.Appendices/" class="md-nav__link">
        27.Appendices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/28.A%20Appendix%20A%20Chapter%205%20Solution%201/" class="md-nav__link">
        28.A Appendix A Chapter 5 Solution 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Apprentice/en/29.B%20Appendix%20B%20Chapter%205%20Solution%202/" class="md-nav__link">
        29.B Appendix B Chapter 5 Solution 2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Dart Apprentice-Fundamentals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dart Apprentice-Fundamentals" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Dart Apprentice-Fundamentals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/1.Hello%2C%20Dart%21/" class="md-nav__link">
        1.Hello, Dart!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/2.Expressions%2C%20Variables%20%26%20Constants/" class="md-nav__link">
        2.Expressions, Variables & Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/3.Types%20%26%20Operations/" class="md-nav__link">
        3.Types & Operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/4.Strings/" class="md-nav__link">
        4.Strings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/5.Control%20Flow/" class="md-nav__link">
        5.Control Flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/6.Loops/" class="md-nav__link">
        6.Loops
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/7.Functions/" class="md-nav__link">
        7.Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/8.Classes/" class="md-nav__link">
        8.Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/9.Constructors/" class="md-nav__link">
        9.Constructors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/10.Static%20Members/" class="md-nav__link">
        10.Static Members
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/11.Nullability/" class="md-nav__link">
        11.Nullability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/12.Lists/" class="md-nav__link">
        12.Lists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/13.Sets/" class="md-nav__link">
        13.Sets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/14.Maps/" class="md-nav__link">
        14.Maps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/15.Iterables/" class="md-nav__link">
        15.Iterables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Fundamentals/en/16.Conclusion/" class="md-nav__link">
        16.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Data Structures & Algorithms in Dart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Structures & Algorithms in Dart" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Data Structures & Algorithms in Dart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/1.Section%20I%20Introduction/" class="md-nav__link">
        1.Section I Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/2.Why%20Learn%20Data%20Structures%20%26%20Algorithms/" class="md-nav__link">
        2.Why Learn Data Structures & Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/3.Complexity/" class="md-nav__link">
        3.Complexity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/4.Basic%20Data%20Structures%20in%20Dart/" class="md-nav__link">
        4.Basic Data Structures in Dart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/5.Section%20II%20Elementary%20Data%20Structures/" class="md-nav__link">
        5.Section II Elementary Data Structures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/6.Stacks/" class="md-nav__link">
        6.Stacks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/7.Linked%20Lists/" class="md-nav__link">
        7.Linked Lists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/8.Queues/" class="md-nav__link">
        8.Queues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/9.Section%20III%20Trees/" class="md-nav__link">
        9.Section III Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/10.Trees/" class="md-nav__link">
        10.Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/12.Binary%20Trees/" class="md-nav__link">
        12.Binary Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/13.Binary%20Search%20Trees/" class="md-nav__link">
        13.Binary Search Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/14.AVL%20Trees/" class="md-nav__link">
        14.AVL Trees
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/15.Tries/" class="md-nav__link">
        15.Tries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/16.Binary%20Search/" class="md-nav__link">
        16.Binary Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/17.Heaps/" class="md-nav__link">
        17.Heaps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/18.Priority%20Queues/" class="md-nav__link">
        18.Priority Queues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/19.Section%20IV%20Sorting%20Algorithms/" class="md-nav__link">
        19.Section IV Sorting Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/20.O%28n%C2%B2%29%20Sorting%20Algorithms/" class="md-nav__link">
        20.O(n²) Sorting Algorithms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/21.Merge%20Sort/" class="md-nav__link">
        21.Merge Sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/22.Radix%20Sort/" class="md-nav__link">
        22.Radix Sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/23.Heapsort/" class="md-nav__link">
        23.Heapsort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/24.Quicksort/" class="md-nav__link">
        24.Quicksort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/25.Section%20V%20Graphs/" class="md-nav__link">
        25.Section V Graphs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/26.Graphs/" class="md-nav__link">
        26.Graphs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/27.Breadth-First%20Search/" class="md-nav__link">
        27.Breadth-First Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/28.Depth-First%20Search/" class="md-nav__link">
        28.Depth-First Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/29.Dijkstra%E2%80%99s%20Algorithm/" class="md-nav__link">
        29.Dijkstra’s Algorithm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/30.Conclusion/" class="md-nav__link">
        30.Conclusion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/31.Section%20VI%20Challenge%20Solutions/" class="md-nav__link">
        31.Section VI Challenge Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/32.Chapter%204%20Solutions/" class="md-nav__link">
        32.Chapter 4 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/33.Chapter%205%20Solutions/" class="md-nav__link">
        33.Chapter 5 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/34.Chapter%206%20Solutions/" class="md-nav__link">
        34.Chapter 6 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/35.Chapter%207%20Solutions/" class="md-nav__link">
        35.Chapter 7 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/36.Chapter%208%20Solutions/" class="md-nav__link">
        36.Chapter 8 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/37.Chapter%209%20Solutions/" class="md-nav__link">
        37.Chapter 9 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/38.Chapter%2010%20Solutions/" class="md-nav__link">
        38.Chapter 10 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/39.Chapter%2011%20Solutions/" class="md-nav__link">
        39.Chapter 11 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/40.Chapter%2012%20Solutions/" class="md-nav__link">
        40.Chapter 12 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/41.Chapter%2013%20Solutions/" class="md-nav__link">
        41.Chapter 13 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/42.Chapter%2014%20Solutions/" class="md-nav__link">
        42.Chapter 14 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/43.Chapter%2015%20Solutions/" class="md-nav__link">
        43.Chapter 15 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/44.Chapter%2016%20Solutions/" class="md-nav__link">
        44.Chapter 16 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/45.Chapter%2017%20Solutions/" class="md-nav__link">
        45.Chapter 17 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/46.Chapter%2018%20Solutions/" class="md-nav__link">
        46.Chapter 18 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/47.Chapter%2019%20Solutions/" class="md-nav__link">
        47.Chapter 19 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/48.Chapter%2020%20Solutions/" class="md-nav__link">
        48.Chapter 20 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/49.Chapter%2021%20Solutions/" class="md-nav__link">
        49.Chapter 21 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/50.Chapter%2022%20Solutions/" class="md-nav__link">
        50.Chapter 22 Solutions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Dart/en/51.Chapter%2023%20Solutions/" class="md-nav__link">
        51.Chapter 23 Solutions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Swift中的数据结构和算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Swift中的数据结构和算法" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Swift中的数据结构和算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/1.Section%20I%20Introduction/" class="md-nav__link">
        1.第一节简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/2.Why%20Learn%20Data%20Structures%20%26%20Algorithms/" class="md-nav__link">
        2.为什么学习数据结构和算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/3.Complexity/" class="md-nav__link">
        3.复杂性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/4.Swift%20Standard%20Library/" class="md-nav__link">
        4.Swift标准库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/5.Section%20II%20Elementary%20Data%20Structures/" class="md-nav__link">
        5.第二节基本数据结构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/6.Stacks/" class="md-nav__link">
        6.堆栈
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/7.Stack%20Challenges/" class="md-nav__link">
        7.堆栈挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/8.Linked%20Lists/" class="md-nav__link">
        8.链接列表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/9.Linked%20List%20Challenges/" class="md-nav__link">
        9.链接列表的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/10.Queues/" class="md-nav__link">
        10.队列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/11.Queue%20Challenges/" class="md-nav__link">
        11.排队挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/12.Section%20III%20Trees/" class="md-nav__link">
        12.第三节树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/13.Trees/" class="md-nav__link">
        13.树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/14.Tree%20Challenges/" class="md-nav__link">
        14.树的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/15.Binary%20Trees/" class="md-nav__link">
        15.二叉树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/16.Binary%20Tree%20Challenges/" class="md-nav__link">
        16.二叉树的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/17.Binary%20Search%20Trees/" class="md-nav__link">
        17.二叉树搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/18.Binary%20Search%20Tree%20Challenges/" class="md-nav__link">
        18.二叉树搜索的挑战.md
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/19.AVL%20Trees/" class="md-nav__link">
        19.AVL树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/20.AVL%20Tree%20Challenges/" class="md-nav__link">
        20.AVL树的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/21.Tries/" class="md-nav__link">
        21.尝试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/22.Trie%20Challenges/" class="md-nav__link">
        22.尝试的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/23.Binary%20Search/" class="md-nav__link">
        23.二分搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/24.Binary%20Search%20Challenges/" class="md-nav__link">
        24.二分搜索的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/25.Heaps/" class="md-nav__link">
        25.堆
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/26.Heap%20Challenges/" class="md-nav__link">
        26.堆的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/27.Priority%20Queues/" class="md-nav__link">
        27.优先队列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/28.Priority%20Queue%20Challenges/" class="md-nav__link">
        28.优先队列的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/29.Section%20IV%20Sorting%20Algorithms/" class="md-nav__link">
        29.第四节排序算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/30.O%28n%C2%B2%29%20Sorting%20Algorithms/" class="md-nav__link">
        30.O(n²)排序算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/31.O%28n%C2%B2%29%20Sorting%20Challenges/" class="md-nav__link">
        31.O(n²)排序的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/32.Merge%20Sort/" class="md-nav__link">
        32.合并排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/33.Merge%20Sort%20Challenges/" class="md-nav__link">
        33.合并排序的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/34.Radix%20Sort/" class="md-nav__link">
        34.基数排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/35.Radix%20Sort%20Challenges/" class="md-nav__link">
        35.基数排序的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/36.Heapsort/" class="md-nav__link">
        36.堆垛
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/37.Heapsort%20Challenges/" class="md-nav__link">
        37.堆垛的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/38.Quicksort/" class="md-nav__link">
        38.筛选
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/39.Quicksort%20Challenges/" class="md-nav__link">
        39.筛选的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/40.Section%20V%20Graphs/" class="md-nav__link">
        40.第五节图表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/41.Graphs/" class="md-nav__link">
        41.图表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/42.Graph%20Challenges/" class="md-nav__link">
        42.图表挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/43.Breadth-First%20Search/" class="md-nav__link">
        43.广度优先搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/44.Breadth-First%20Search%20Challenges/" class="md-nav__link">
        44.广度优先搜索的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/45.Depth-First%20Search/" class="md-nav__link">
        45.深度优先搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/46.Depth-First%20Search%20Challenges/" class="md-nav__link">
        46.深度优先搜索的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/47.Dijkstra%E2%80%99s%20Algorithm/" class="md-nav__link">
        47.迪克斯特拉的算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/48.Dijkstra%E2%80%99s%20Algorithm%20Challenges/" class="md-nav__link">
        48.迪克斯特拉算法的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/49.Prim%E2%80%99s%20Algorithm/" class="md-nav__link">
        49.普利姆的算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/50.Prim%E2%80%99s%20Algorithm%20Challenges/" class="md-nav__link">
        50.普利姆算法的挑战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Data%20Structures%20%26%20Algorithms%20in%20Swift/cn/51.Conclusion/" class="md-nav__link">
        51.结语
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Dart Apprentice-Beyond the Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dart Apprentice-Beyond the Basics" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Dart Apprentice-Beyond the Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/1.String%20Manipulation/" class="md-nav__link">
        1.String Manipulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/2.Anonymous%20Functions/" class="md-nav__link">
        2.Anonymous Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/3.Inheritance/" class="md-nav__link">
        3.Inheritance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/4.Abstract%20Classes/" class="md-nav__link">
        4.Abstract Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/5.Interfaces/" class="md-nav__link">
        5.Interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/6.Mixins/" class="md-nav__link">
        6.Mixins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/7.Extension%20Methods/" class="md-nav__link">
        7.Extension Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/8.Generics/" class="md-nav__link">
        8.Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/9.Enhanced%20Enums/" class="md-nav__link">
        9.Enhanced Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/10.Error%20Handling/" class="md-nav__link">
        10.Error Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/11.Concurrency/" class="md-nav__link">
        11.Concurrency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/12.Futures/" class="md-nav__link">
        12.Futures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/13.Streams/" class="md-nav__link">
        13.Streams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/14.Isolates/" class="md-nav__link">
        14.Isolates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Dart%20Apprentice-Beyond%20the%20Basics/en/15.Conclusion/" class="md-nav__link">
        15.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Real-World Flutter by Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Real-World Flutter by Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Real-World Flutter by Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/1.Setting%20up%20Your%20Environment/" class="md-nav__link">
        1.Setting up Your Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/2.Mastering%20the%20Repository%20Pattern/" class="md-nav__link">
        2.Mastering the Repository Pattern
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/3.Managing%20State%20With%20Cubits%20%26%20the%20Bloc%20Library/" class="md-nav__link">
        3.Managing State With Cubits & the Bloc Library
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/4.Validating%20Forms%20With%20Cubits/" class="md-nav__link">
        4.Validating Forms With Cubits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/5.Managing%20Complex%20State%20With%20Blocs/" class="md-nav__link">
        5.Managing Complex State With Blocs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/6.Authenticating%20Users/" class="md-nav__link">
        6.Authenticating Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/7.Routing%20%26%20Navigating/" class="md-nav__link">
        7.Routing & Navigating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/8.Deep%20Linking/" class="md-nav__link">
        8.Deep Linking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/9.Internationalizing%20%26%20Localizing/" class="md-nav__link">
        9.Internationalizing & Localizing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/10.Dynamic%20Theming%20%26%20Dark%20Mode/" class="md-nav__link">
        10.Dynamic Theming & Dark Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/11.Creating%20Your%20Own%20Widget%20Catalog/" class="md-nav__link">
        11.Creating Your Own Widget Catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/12.Supporting%20the%20Development%20Lifecycle%20With%20Firebase/" class="md-nav__link">
        12.Supporting the Development Lifecycle With Firebase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/13.Running%20Live%20Experiments%20With%20AB%20Testing%20%26%20Feature%20Flags/" class="md-nav__link">
        13.Running Live Experiments With AB Testing & Feature Flags
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/14.Automated%20Testing/" class="md-nav__link">
        14.Automated Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/15.Automating%20Test%20Executions%20%26%20Build%20Distributions/" class="md-nav__link">
        15.Automating Test Executions & Build Distributions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Real-World%20Flutter%20by%20Tutorials/en/16.Conclusion/" class="md-nav__link">
        16.Conclusion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          macOS的教程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="macOS的教程" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          macOS的教程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/1.Section%20I%20Your%20First%20App%20On%20This%20Day/" class="md-nav__link">
        1.第一节：你在这一天的第一个应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/2.Designing%20the%20Data%20Model/" class="md-nav__link">
        2.设计数据模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/3.Working%20With%20Windows/" class="md-nav__link">
        3.使用Windows工作
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/4.Adding%20Menus%20%26%20Toolbars/" class="md-nav__link">
        4.添加菜单和工具条
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/5.Using%20Tables%20%26%20Custom%20Views/" class="md-nav__link">
        5.使用表和自定义视图
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/6.Setting%20Preferences%20%26%20Icons/" class="md-nav__link">
        6.设置首选项和图标
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/7.Why%20Write%20a%20macOS%20App/" class="md-nav__link">
        7.为什么要写一个macOS应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/8.Section%20II%20Building%20a%20Menu%20Bar%20App/" class="md-nav__link">
        8.第二节：构建一个菜单栏应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/9.Using%20the%20Menu%20Bar%20for%20an%20App/" class="md-nav__link">
        9.为一个应用程序使用菜单栏
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/10.Working%20with%20Timers%2C%20Alerts%20%26%20Notifications/" class="md-nav__link">
        10.使用计时器、警报和通知的工作
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/11.Adding%20Your%20Own%20Tasks/" class="md-nav__link">
        11.添加你自己的任务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/12.Section%20III%20Building%20a%20Document-based%20App/" class="md-nav__link">
        12.第三节：构建一个基于文档的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/13.Creating%20A%20Document-Based%20App/" class="md-nav__link">
        13.创建一个基于文档的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/14.Adding%20Menu%20Controls/" class="md-nav__link">
        14.添加菜单控件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/15.Section%20IV%20Advanced%20Wizardry/" class="md-nav__link">
        15.第四节：高级魔法师
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/16.Diving%20Deeper%20Into%20Your%20Mac/" class="md-nav__link">
        16.更深入地了解你的Mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/17.Adding%20the%20Interface/" class="md-nav__link">
        17.添加界面
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/18.Automation%20for%20Your%20App/" class="md-nav__link">
        18.为您的应用程序提供自动化服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/19.Section%20V%20Distributing%20Your%20macOS%20Apps/" class="md-nav__link">
        19.第五节：分发你的macOS应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/20.Using%20the%20Mac%20App%20Store/" class="md-nav__link">
        20.使用Mac应用程序商店
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/21.Distributing%20Externally/" class="md-nav__link">
        21.对外分发
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../macOS%20by%20Tutorials/cn/22.Conclusion/" class="md-nav__link">
        22.总结
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          Swift服务端Vapor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Swift服务端Vapor" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Swift服务端Vapor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/1.Section%20I%20Creating%20a%20Simple%20Web%20API/" class="md-nav__link">
        Section I: 创建一个简单的网络API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/2.Chapter%201%20Introduction/" class="md-nav__link">
        1.简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/3.Chapter%202%20Hello%2C%20Vapor%21/" class="md-nav__link">
        2.你好, Vapor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/4.Chapter%203%20HTTP%20Basics/" class="md-nav__link">
        3.HTTP基础知识
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/5.Chapter%204%20Async/" class="md-nav__link">
        4.异步
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/6.Chapter%205%20Fluent%20%26%20Persisting%20Models/" class="md-nav__link">
        5.Fluent和持久化模型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/7.Chapter%206%20Configuring%20a%20Database/" class="md-nav__link">
        6.配置数据库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/8.Chapter%207%20CRUD%20Database%20Operations/" class="md-nav__link">
        7.CRUD数据库操作
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/9.Chapter%208%20Controllers/" class="md-nav__link">
        8.控制器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/10.Chapter%209%20Parent-Child%20Relationships/" class="md-nav__link">
        9.父子关系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/11.Chapter%2010%20Sibling%20Relationships/" class="md-nav__link">
        10.同级关系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/12.Chapter%2011%20Testing/" class="md-nav__link">
        11.测试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/13.Chapter%2012%20Creating%20a%20Simple%20iPhone%20App%2C%20Part%201/" class="md-nav__link">
        12.创建一个简单的iPhone App, 第1部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/14.Chapter%2013%20Creating%20a%20Simple%20iPhone%20App%2C%20Part%202/" class="md-nav__link">
        13.创建一个简单的iPhone App, 第2部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/15.Section%20II%20Making%20a%20Simple%20Web%20App/" class="md-nav__link">
        Section II: 制作一个简单的网络应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/16.Chapter%2014%20Templating%20with%20Leaf/" class="md-nav__link">
        14.用Leaf进行模板设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/17.Chapter%2015%20Beautifying%20Pages/" class="md-nav__link">
        15.美化页面
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/18.Chapter%2016%20Making%20a%20Simple%20Web%20App%2C%20Part%201/" class="md-nav__link">
        16.制作一个简单的Web应用程序，第1部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/19.Chapter%2017%20Making%20a%20Simple%20Web%20App%2C%20Part%202/" class="md-nav__link">
        17.制作一个简单的Web应用程序，第2部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/20.Section%20III%20Validation%2C%20Users%20%26%20Authentication/" class="md-nav__link">
        Section III: 验证、用户和认证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/21.Chapter%2018%20API%20Authentication%2C%20Part%201/" class="md-nav__link">
        18.API认证，第1部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/22.Chapter%2019%20API%20Authentication%2C%20Part%202/" class="md-nav__link">
        19.API认证，第2部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/23.Chapter%2020%20Web%20Authentication%2C%20Cookies%20%26%20Sessions/" class="md-nav__link">
        20.Web认证、Cookies和Sessions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/24.Chapter%2021%20Validation/" class="md-nav__link">
        21.验证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/25.Chapter%2022%20Google%20Authentication/" class="md-nav__link">
        22.Google验证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/26.Chapter%2023%20GitHub%20Authentication/" class="md-nav__link">
        23.GitHub验证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/27.Chapter%2024%20Sign%20in%20with%20Apple%20Authentication/" class="md-nav__link">
        24.使用苹果认证登录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/28.Section%20IV%20Advanced%20Server-Side%20Swift/" class="md-nav__link">
        Section IV: 高级服务器端Swift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/29.Chapter%2025%20Password%20Reset%20%26%20Emails/" class="md-nav__link">
        25.密码重置和电子邮件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/30.Chapter%2026%20Adding%20Profile%20Pictures/" class="md-nav__link">
        26.添加个人资料图片
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/31.Chapter%2027%20DatabaseAPI%20Versioning%20%26%20Migration/" class="md-nav__link">
        27.数据库/API版本和迁移
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/32.Chapter%2028%20Caching/" class="md-nav__link">
        28.缓存
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/33.Chapter%2029%20Middleware/" class="md-nav__link">
        29.中间件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/34.Chapter%2030%20WebSockets/" class="md-nav__link">
        30.WebSockets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/35.Chapter%2031%20Advanced%20Fluent/" class="md-nav__link">
        31.Fluent进阶
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/36.Section%20V%20Production%20%26%20External%20Deployment/" class="md-nav__link">
        Section V: 生产和外部部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/37.Chapter%2032%20Deploying%20with%20Heroku/" class="md-nav__link">
        32.使用Heroku进行部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/38.Chapter%2033%20Deploying%20with%20Docker/" class="md-nav__link">
        33.使用Docker进行部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/39.Chapter%2034%20Deploying%20with%20AWS/" class="md-nav__link">
        34.使用AWS进行部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/40.Chapter%2035%20Production%20Concerns%20%26%20Redis/" class="md-nav__link">
        35.生产方面的关注
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/41.Chapter%2036%20Microservices%2C%20Part%201/" class="md-nav__link">
        36.微服务，第1部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Server-Side-Swift-with-Vapor/cn/42.Chapter%2037%20Microservices%2C%20Part%202/" class="md-nav__link">
        37.微服务，第2部分
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18">
          Swift专家
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Swift专家" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          Swift专家
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/1.Section%20I%20Core%20Concepts/" class="md-nav__link">
        第一节：核心概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/2.Chapter%201%20Introduction/" class="md-nav__link">
        1.简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/3.Chapter%202%20Types%20%26%20Mutation/" class="md-nav__link">
        2.类型与变异
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/4.Chapter%203%20Protocols/" class="md-nav__link">
        3.协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/5.Chapter%204%20Generics/" class="md-nav__link">
        4.泛型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/6.Section%20II%20Standard%20Library/" class="md-nav__link">
        第二节：标准库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/7.Chapter%205%20Numerics%20%26%20Ranges/" class="md-nav__link">
        5.数字与区间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/8.Chapter%206%20Sequences%2C%20Collections%20%26%20Algorithms/" class="md-nav__link">
        6.序列、集合和算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/9.Chapter%207%20Strings/" class="md-nav__link">
        7.字符串
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/10.Chapter%208%20Codable/" class="md-nav__link">
        8.Codable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/11.Chapter%209%20Unsafe/" class="md-nav__link">
        9.不安全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/12.Section%20III%20Techniques/" class="md-nav__link">
        第三部分：技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/13.Chapter%2010%20Higher-Order%20Functions/" class="md-nav__link">
        10.高阶函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/14.Chapter%2011%20Functional%20Reactive%20Programming/" class="md-nav__link">
        11.功能性反应式编程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/15.Chapter%2012%20Objective-C%20Interoperability/" class="md-nav__link">
        12.Objective-C的互操作性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/16.Chapter%2013%20Instrumentation/" class="md-nav__link">
        13.仪器仪表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Expert-Swift/cn/17.Chapter%2014%20API%20Design%20Tips%20%26%20Tricks/" class="md-nav__link">
        14.API设计技巧和窍门
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_19" type="checkbox" id="__nav_19" >
      
      
      
      
        <label class="md-nav__link" for="__nav_19">
          iOS驱动式测试教程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="iOS驱动式测试教程" data-md-level="1">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          iOS驱动式测试教程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/1.Section%20I%20Hello%2C%20TDD%21/" class="md-nav__link">
        第一节：你好，TDD!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/2.What%20Is%20TDD%3F/" class="md-nav__link">
        1.什么是TDD？
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/3.The%20TDD%20Cycle/" class="md-nav__link">
        2.TDD周期
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/4.TDD%20App%20Setup/" class="md-nav__link">
        3.TDD应用程序设置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/5.Section%20II%20Beginning%20TDD/" class="md-nav__link">
        第二节：开始TDD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/6.Test%20Expressions/" class="md-nav__link">
        4.测试表达式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/7.Test%20Expectations/" class="md-nav__link">
        5.测试期望
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/8.Dependency%20Injection%20%26%20Mocks/" class="md-nav__link">
        6.依赖性注入和Mocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/9.Section%20III%20TDD%20With%20Networking/" class="md-nav__link">
        第三节：带网络的TDD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/10.Introducing%20Dog%20Patch/" class="md-nav__link">
        7.Dog Patch介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/11.RESTful%20Networking/" class="md-nav__link">
        8.RESTful网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/12.Using%20the%20Network%20Client/" class="md-nav__link">
        9.使用网络客户端
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/13.ImageClient/" class="md-nav__link">
        10.ImageClient
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/14.Section%20IV%20TDD%20in%20Legacy%20Apps/" class="md-nav__link">
        第四节：遗留应用程序中的TDD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/15.Legacy%20Problems/" class="md-nav__link">
        11.遗留问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/16.Dependency%20Maps/" class="md-nav__link">
        12.依赖关系图
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/17.Breaking%20Up%20Dependencies/" class="md-nav__link">
        13.打破依赖关系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/18.Modularizing%20Dependencies/" class="md-nav__link">
        14.模块化的依赖关系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../iOS-Test-Driven-Development-by-Tutorials/cn/19.Adding%20Features%20to%20Existing%20Classes/" class="md-nav__link">
        15.为现有的类添加功能
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_20" type="checkbox" id="__nav_20" >
      
      
      
      
        <label class="md-nav__link" for="__nav_20">
          SwiftUI学徒
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SwiftUI学徒" data-md-level="1">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          SwiftUI学徒
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/1.Section%20I%20Your%20first%20app%20HIITFit/" class="md-nav__link">
        第一节：你的第一个应用程序HIITFit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/2.Chapter%201%20Checking%20Your%20Tools/" class="md-nav__link">
        第1章：检查你的工具
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/3.Chapter%202%20Planning%20a%20Paged%20App/" class="md-nav__link">
        第2章：规划一个分页的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/4.Chapter%203%20Prototyping%20the%20Main%20View/" class="md-nav__link">
        第3章：主视图的原型设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/5.Chapter%204%20Prototyping%20Supplementary%20Views/" class="md-nav__link">
        第4章：原型设计补充视图
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/6.Chapter%205%20Organizing%20Your%20App%E2%80%99s%20Data/" class="md-nav__link">
        第5章：组织你的应用程序的数据
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/7.Chapter%206%20Adding%20Functionality%20to%20Your%20App/" class="md-nav__link">
        第6章：在你的应用程序中添加功能
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/8.Chapter%207%20Observing%20Objects/" class="md-nav__link">
        第7章：观察物体
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/9.Chapter%208%20Saving%20Settings/" class="md-nav__link">
        第8章：保存设置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/10.Chapter%209%20Saving%20History%20Data/" class="md-nav__link">
        第9章：保存历史数据
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/11.Chapter%2010%20Refining%20Your%20App/" class="md-nav__link">
        第10章：完善你的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/12.Chapter%2011%20Understanding%20Property%20Wrappers/" class="md-nav__link">
        第11章：了解属性包装器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/13.Chapter%2012%20Apple%20App%20Development%20Ecosystem/" class="md-nav__link">
        第12章：苹果应用开发生态系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/14.Section%20II%20Your%20second%20app%20Cards/" class="md-nav__link">
        第二节：你的第二个应用程序卡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/15.Chapter%2013%20Outlining%20a%20Photo%20Collage%20App/" class="md-nav__link">
        第13章：勾勒出一个照片拼贴的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/16.Chapter%2014%20Gestures/" class="md-nav__link">
        第14章：手势
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/17.Chapter%2015%20Structures%2C%20Classes%20%26%20Protocols/" class="md-nav__link">
        第15章：结构、类和协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/18.Chapter%2016%20Adding%20Assets%20to%20Your%20App/" class="md-nav__link">
        第16章：向你的应用程序添加资产
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/19.Chapter%2017%20Interfacing%20With%20UIKit/" class="md-nav__link">
        第17章：与UIKit的接口
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/20.Chapter%2018%20Paths%20%26%20Custom%20Shapes/" class="md-nav__link">
        第18章：路径和自定义形状
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/21.Chapter%2019%20Saving%20Files/" class="md-nav__link">
        第19章：保存文件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/22.Chapter%2020%20Delightful%20UX%20%E2%80%94%20Layout/" class="md-nav__link">
        第20章：愉快的用户体验--版面设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/23.Chapter%2021%20Delightful%20UX%20%E2%80%94%20Final%20Touches/" class="md-nav__link">
        第21章：愉悦的用户体验--最后的修饰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/24.Section%20III%20Your%20third%20app%20RWFreeView/" class="md-nav__link">
        第三节：你的第三个应用程序RWFreeView
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/25.Chapter%2022%20Lists%20%26%20Navigation/" class="md-nav__link">
        第22章：列表与导航
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/26.Chapter%2023%20Just%20Enough%20Web%20Stuff/" class="md-nav__link">
        第23章：足够的网络东西
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/27.Chapter%2024%20Downloading%20Data/" class="md-nav__link">
        第24章：下载数据
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/28.Chapter%2025%20Implementing%20Filter%20Options/" class="md-nav__link">
        第25章：实施过滤器选项
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../SwiftUI-Apprentice/cn/29.Chapter%2026%20Widgets/" class="md-nav__link">
        第26章：小工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_21" type="checkbox" id="__nav_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_21">
          Swift的异步编程Combine
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Swift的异步编程Combine" data-md-level="1">
        <label class="md-nav__title" for="__nav_21">
          <span class="md-nav__icon md-icon"></span>
          Swift的异步编程Combine
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/1.Section%20I%20Introduction%20to%20Combine/" class="md-nav__link">
        第一部分：Combine简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/2.Chapter%201%20Hello%2C%20Combine%21/" class="md-nav__link">
        第1章：你好，Combine!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/3.Chapter%202%20Publishers%20%26%20Subscribers/" class="md-nav__link">
        第2章：Publishers和Subscribers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/2.1%E7%AC%AC%E4%B8%80%E7%AB%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        第2.1章：第一章学习笔记
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/4.Section%20II%20Operators/" class="md-nav__link">
        第二部分：操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/5.Chapter%203%20Transforming%20Operators/" class="md-nav__link">
        第3章：变换运算符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/6.Chapter%204%20Filtering%20Operators/" class="md-nav__link">
        第4章：Filtering操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/7.Chapter%205%20Combining%20Operators/" class="md-nav__link">
        第5章：Combining操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/8.Chapter%206%20Time%20Manipulation%20Operators/" class="md-nav__link">
        第6章：时间操纵操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/9.Chapter%207%20Sequence%20Operators/" class="md-nav__link">
        第7章：Sequence操作符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/10.Chapter%208%20In%20Practice%20Project%20Collage/" class="md-nav__link">
        第8章：实践项目Collage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/11.Section%20III%20Combine%20in%20Action/" class="md-nav__link">
        第三部分：Combine的事件
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/12.Chapter%209%20Networking/" class="md-nav__link">
        第9章：网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/13.Chapter%2010%20Debugging/" class="md-nav__link">
        第10章：调试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/14.Chapter%2011%20Timers/" class="md-nav__link">
        第11章：计时器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/15.Chapter%2012%20Key-Value%20Observing/" class="md-nav__link">
        第12章：键值观察
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/16.Chapter%2013%20Resource%20Management/" class="md-nav__link">
        第13章：资源管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/17.Chapter%2014%20In%20Practice%20Project%20News/" class="md-nav__link">
        第14章：实践："新闻"项目
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/18.Section%20IV%20Advanced%20Combine/" class="md-nav__link">
        第四部分：高级Combine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/19.Chapter%2015%20In%20Practice%20Combine%20%26%20SwiftUI/" class="md-nav__link">
        第15章：实践Combine & SwiftUI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/20.Chapter%2016%20Error%20Handling/" class="md-nav__link">
        第16章：Error处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/21.Chapter%2017%20Schedulers/" class="md-nav__link">
        第17章：调度器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/22.Chapter%2018%20Custom%20Publishers%20%26%20Handling%20Backpressure/" class="md-nav__link">
        第18章：定制发布者和处理背压
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/23.Chapter%2019%20Testing%20Combine%20Code/" class="md-nav__link">
        第19章：测试Combine代码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/24.Section%20V%20Building%20a%20Complete%20App/" class="md-nav__link">
        第五部分：构建一个完整的应用程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Combine-Asynchronous-Programming-with-Swift/cn/25.Chapter%2020%20In%20Practice%20Building%20a%20Complete%20App/" class="md-nav__link">
        第20章：在实践中建立一个完整的应用程序
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_22" type="checkbox" id="__nav_22" >
      
      
      
      
        <label class="md-nav__link" for="__nav_22">
          Accessibility教程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Accessibility教程" data-md-level="1">
        <label class="md-nav__title" for="__nav_22">
          <span class="md-nav__icon md-icon"></span>
          Accessibility教程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Accessibility/1.iOS%20Accessibility%20Getting%20Started/" class="md-nav__link">
        Accessibility：入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Accessibility/2.iOS%20Accessibility%20Tutorial%20Making%20Custom%20Controls%20Accessible/" class="md-nav__link">
        iOS无障碍教程：实现自定义控件的无障碍使用
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_23" type="checkbox" id="__nav_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_23">
          杂七杂八
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="杂七杂八" data-md-level="1">
        <label class="md-nav__title" for="__nav_23">
          <span class="md-nav__icon md-icon"></span>
          杂七杂八
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/Yunzai/Yunzai-bot%E5%AE%89%E8%A3%85%E7%BB%8F%E5%8E%86%E5%88%86%E4%BA%AB/" class="md-nav__link">
        Yunzai-bot搭建教程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/SwiftCharts/SwiftCharts%E6%95%99%E7%A8%8B/" class="md-nav__link">
        SwiftCharts教程：入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/DocC/DocC%E6%95%99%E7%A8%8B/" class="md-nav__link">
        DocC教程：入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/SwiftUI%E6%9C%AC%E5%9C%B0%E5%8C%96/iOS%E7%9A%84SwiftUI%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%95%99%E7%A8%8B%E5%85%A5%E9%97%A8/" class="md-nav__link">
        iOS的SwiftUI本地化教程入门
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/SwiftGen/iOS%E7%9A%84SwiftGen%E6%95%99%E7%A8%8B/" class="md-nav__link">
        iOS的SwiftGen教程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/UITests/iOS%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8CUI%E6%B5%8B%E8%AF%95%E6%95%99%E7%A8%8B/" class="md-nav__link">
        iOS单元测试和UI测试教程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Other/UITests/iOS%20Unit%20Testing%20and%20UI%20Testing%20Tutorial/" class="md-nav__link">
        iOS Unit Testing and UI Testing Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#when-to-migrate" class="md-nav__link">
    When to migrate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-migration-process" class="md-nav__link">
    The migration process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-migrations" class="md-nav__link">
    Types of migrations
  </a>
  
    <nav class="md-nav" aria-label="Types of migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lightweight-migrations" class="md-nav__link">
    Lightweight migrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-migrations" class="md-nav__link">
    Manual migrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-manual-migrations" class="md-nav__link">
    Custom manual migrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully-manual-migrations" class="md-nav__link">
    Fully manual migrations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-lightweight-migration" class="md-nav__link">
    A lightweight migration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inferred-mapping-models" class="md-nav__link">
    Inferred mapping models
  </a>
  
    <nav class="md-nav" aria-label="Inferred mapping models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#image-attachments" class="md-nav__link">
    Image attachments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-manual-migration" class="md-nav__link">
    A manual migration
  </a>
  
    <nav class="md-nav" aria-label="A manual migration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapping-models" class="md-nav__link">
    Mapping models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-mapping" class="md-nav__link">
    Attribute mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-mapping" class="md-nav__link">
    Relationship mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-last-thing" class="md-nav__link">
    One last thing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-complex-mapping-model" class="md-nav__link">
    A complex mapping model
  </a>
  
    <nav class="md-nav" aria-label="A complex mapping model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapping-model" class="md-nav__link">
    Mapping model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-migration-policies" class="md-nav__link">
    Custom migration policies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrating-non-sequential-versions" class="md-nav__link">
    Migrating non-sequential versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-self-migrating-stack" class="md-nav__link">
    A self-migrating stack
  </a>
  
    <nav class="md-nav" aria-label="A self-migrating stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-self-migrating-stack" class="md-nav__link">
    The self-migrating stack
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-sequential-migrations" class="md-nav__link">
    Testing sequential migrations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-points" class="md-nav__link">
    Key points
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="6versioning-migration">6.Versioning &amp; Migration<a class="headerlink" href="#6versioning-migration" title="Permanent link">&para;</a></h1>
<p>Written by Aaron Douglas</p>
<p>You’ve seen how to design your data model and <code>NSManagedObject</code> subclasses in your Core Data apps. During app development, well before the ship date, thorough testing can help iron out the data model. However, changes in app usage, design or features after an app’s release will inevitably lead to changes in the data model. What do you do then?</p>
<p>You can’t predict the future, but with Core Data, you can migrate toward the future with every new release of your app. The migration process will update data created with a previous version of the data model to match the current data model.</p>
<p>This chapter discusses the many aspects of Core Data migrations by walking you through the evolution of a note-taking app’s data model.</p>
<p>You’ll start with a simple app with only a single entity in its data model. As you add more features and data to the app, the migrations you do in this chapter will become progressively more complex.</p>
<p>Let the great migration begin!</p>
<h2 id="when-to-migrate">When to migrate<a class="headerlink" href="#when-to-migrate" title="Permanent link">&para;</a></h2>
<p>When is a migration necessary? The easiest answer to this common question is “when you need to make changes to the data model.”</p>
<p>However, there are some cases in which you can avoid a migration. If an app is using Core Data merely as an offline cache, when you update the app, you can simply delete and rebuild the data store. This is only possible if the source of truth for your user’s data isn’t in the data store. In all other cases, you’ll need to safeguard your user’s data.</p>
<p>That said, any time it’s impossible to implement a design change or feature request without changing the data model, you’ll need to create a new version of the data model and provide a migration path.</p>
<h2 id="the-migration-process">The migration process<a class="headerlink" href="#the-migration-process" title="Permanent link">&para;</a></h2>
<p>When you initialize a Core Data stack, one of the steps involved is adding a store to the persistent store coordinator. When you encounter this step, Core Data does a few things prior to adding the store to the coordinator. First, Core Data analyzes the store’s model version. Next, it compares this version to the coordinator’s configured data model. If the store’s model version and the coordinator’s model version don’t match, Core Data will perform a migration, when enabled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If migrations aren’t enabled, and the store is incompatible with the model, Core Data will simply not attach the store to the coordinator and specify an error with an appropriate reason code.</p>
</div>
<p>To start the migration process, Core Data needs the original data model and the destination model. It uses these two versions to load or create a mapping model for the migration, which it uses to convert data in the original store to data that it can store in the new store. Once Core Data determines the mapping model, the migration process can start in earnest.</p>
<p>Migrations happen in three steps:</p>
<ol>
<li>First, Core Data copies over all the objects from one data store to the next.</li>
<li>Next, Core Data connects and relates all the objects according to the relationship mapping.</li>
<li>Finally, enforce any data validations in the destination model. Core Data disables destination model validations during the data copy.</li>
</ol>
<p>You might ask, “If something goes wrong, what happens to the original source data store?” With nearly all types of Core Data migrations, nothing happens to the original store unless the migration completes without error. Only when a migration is successful, will Core Data remove the original data store.</p>
<h2 id="types-of-migrations">Types of migrations<a class="headerlink" href="#types-of-migrations" title="Permanent link">&para;</a></h2>
<p>In my own experience, I’ve found there are a few more migration variants than the simple distinction between lightweight and heavyweight migrations that Apple calls out. Below, I’ve provided the more subtle variants of migration names, but these names are not official categories by any means. You’ll start with the least complex form of migration and end with the most complex form.</p>
<h3 id="lightweight-migrations">Lightweight migrations<a class="headerlink" href="#lightweight-migrations" title="Permanent link">&para;</a></h3>
<p>Lightweight migration is Apple’s term for the migration with the least amount of work involved on your part. This happens automatically when you use <code>NSPersistentContainer</code>, or you have to set some flags when building your own Core Data stack. There are some limitations on how much you can change the data model, but because of the small amount of work required to enable this option, it’s the ideal setting.</p>
<h3 id="manual-migrations">Manual migrations<a class="headerlink" href="#manual-migrations" title="Permanent link">&para;</a></h3>
<p>Manual migrations involve a little more work on your part. You’ll need to specify how to map the old set of data onto the new set, but you get the benefit of a more explicit mapping model file to configure. Setting up a mapping model in Xcode is much like setting up a data model, with similar GUI tools and some automation.</p>
<h3 id="custom-manual-migrations">Custom manual migrations<a class="headerlink" href="#custom-manual-migrations" title="Permanent link">&para;</a></h3>
<p>This is level 3 on the migration complexity index. You’ll still use a mapping model, but complement that with custom code to specify custom transformation logic on data. Custom entity transformation logic involves creating an <code>NSEntityMigrationPolicy</code> subclass and performing custom transformations there.</p>
<h3 id="fully-manual-migrations">Fully manual migrations<a class="headerlink" href="#fully-manual-migrations" title="Permanent link">&para;</a></h3>
<p>Fully manual migrations are for those times when even specifying custom transformation logic isn’t enough to fully migrate data from one model version to another. Custom version detection logic and custom handling of the migration process are necessary. In this chapter, you’ll set up a fully manual migration to update data across non-sequential versions, such as jumping from version 1 to 4.</p>
<p>Throughout this chapter, you’ll learn about each of these migration types and when to use them. Let’s get started!</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>Included with the resources for this book is a starter project called <code>UnCloudNotes</code>. Find the starter project and open it in Xcode.</p>
<p>Build and run the app in the iPhone simulator. You’ll see an empty list of notes:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/73068aaedd91657103eeefd5a84f9d2e3f1774746ee3578a4e744bbdf6210d5d/original.png" /></p>
<p>Tap the plus (+) button in the top-right corner to add a new note. Add a title (there’s default text in the note body to make the process faster) and tap Create to save the new note to the data store. Repeat this a few times so you have some sample data to migrate.</p>
<p>Back in Xcode, open the <strong>UnCloudNotesDatamodel.xcdatamodeld</strong> file to show the entity modeling tool in Xcode. The data model is simple — just one entity, a <code>Note</code>, with a few attributes.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/3c2a5ee5f15504fac3643089b3bca4f1a794cad2fb4e8aacfa74a8dcac505c2e/original.png" /></p>
<p>You’re going to add a new feature to the app: the ability to attach a photo to a note. The data model doesn’t have any place to persist this kind of information, so you’ll need to add a place in the data model to hold onto the photo. But you already added a few test notes in the app. How can you change the model without breaking the existing notes?</p>
<p>It’s time for your first migration!</p>
<h2 id="a-lightweight-migration">A lightweight migration<a class="headerlink" href="#a-lightweight-migration" title="Permanent link">&para;</a></h2>
<p>In Xcode, select the <code>UnCloudNotes</code> data model file if you haven’t already. This will show you the Entity Modeler in the main work area. Next, open the Editor menu and select <strong>Add Model Version…</strong>. Name the new version <code>UnCloudNotesDataModel v2</code> and ensure <code>UnCloudNotesDataModel</code> is selected in the <code>Based on model</code> field. Xcode will now create a copy of the data model.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can give this file any name you want. The sequential v2, v3, v4, et cetera naming helps you easily tell the versions apart.</p>
</div>
<p>This step will create a second version of the data model, but you still need to tell Xcode to use the new version as the current model. If you forget this step, selecting the top level <strong>UnCloudNotesDataModel.xcdatamodeld</strong> file will perform any changes you make to the original model file. You can override this behavior by selecting an individual model version, but it’s still a good idea to make sure you don’t accidentally modify the original file.</p>
<p>In order to perform any migration, you want to keep the original model file as it is, and make changes to an entirely new model file.</p>
<p>In the <code>File Inspector</code> pane on the right, there is a selection menu toward the bottom called Model Version.</p>
<p>Change that selection to match the name of the new data model, <code>UnCloudNotesDataModel v2</code>.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/00574a0390faeb51d765e2813a6e00b7296ee3bcd5fce5f6ee388f63119bed32/original.png" /></p>
<p>Once you’ve made that change, notice that the little green check mark icon in the project navigator has moved from the previous data model to the v2 data model:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/b622ba75ec8e2c53a2613f0fd24e6b988ebd109110d51b6bec7fddb321b0b43a/original.png" /></p>
<p>Core Data will try to first connect the persistent store with the ticked model version when setting up the stack. If a store file was found, and it isn’t compatible with this model file, a migration will be triggered. The older version is there to support migration. The current model is the one Core Data will ensure is loaded prior to attaching the rest of the stack for your use.</p>
<p>Make sure you have the v2 data model selected and add an <strong>image</strong> attribute to the <code>Note</code>entity. Set the attribute’s name to image and the attribute’s type to <strong>Transformable</strong>.</p>
<p>Since this attribute is going to contain the actual binary bits of the image, you’ll use a custom <code>NSValueTransformer</code> to convert from binary bits to a <code>UIImage</code> and back again. Just such a transformer has been provided for you in <code>ImageTransformer</code>. In the Data Model Inspector on the right of the screen, look for the Value Transformer field, and enter <strong>ImageTransformer</strong>. Next, in the Module field, choose <strong>Current Product Module</strong>.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/f14889b0df56617239c49f6bb2a32559f47d8c561a22cc0f6f1887ca653dc0ea/original.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When referencing code from your model files, just like in Xib and Storyboard files, you’ll need to specify a <strong>module</strong> (<code>UnCloudNotes</code> or <code>Current Product Module</code>depending on what your drop down provides) to allow the class loader to find the exact code you want to attach.</p>
</div>
<p>The new model is now ready for some code! Open <strong>Note.swift</strong> and add the following property below <code>displayIndex</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">image</span><span class="p">:</span> <span class="bp">UIImage</span><span class="p">?</span>
</code></pre></div>
<p>Build and run the app. You’ll see your notes are still magically displayed! It turns out lightweight migrations are enabled by default. This means every time you create a new data model version, and it <em>can</em> be auto migrated, it will be. What a time saver!</p>
<h2 id="inferred-mapping-models">Inferred mapping models<a class="headerlink" href="#inferred-mapping-models" title="Permanent link">&para;</a></h2>
<p>It just so happens Core Data can infer a mapping model in many cases when you enable the <code>shouldInferMappingModelAutomatically</code> flag on the <code>NSPersistentStoreDescription</code>. Core Data can automatically look at the differences in two data models and create a mapping model between them.</p>
<p>For entities and attributes that are identical between model versions, this is a straightforward data pass through mapping. For other changes, just follow a few simple rules for Core Data to create a mapping model.</p>
<p>In the new model, changes must fit an obvious migration pattern, such as:</p>
<ul>
<li>Deleting entities, attributes or relationships</li>
<li>Renaming entities, attributes or relationships using the <code>renamingIdentifier</code></li>
<li>Adding a new, optional attribute</li>
<li>Adding a new, required attribute with a default value</li>
<li>Changing an optional attribute to non-optional and specifying a default value</li>
<li>Changing a non-optional attribute to optional</li>
<li>Changing the entity hierarchy</li>
<li>Adding a new parent entity and moving attributes up or down the hierarchy</li>
<li>Changing a relationship from to-one to to-many</li>
<li>Changing a relationship from non-ordered to-many to ordered to-many (and vice versa)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check out Apple’s documentation for more information on how Core Data infers a lightweight migration mapping: https://developer.apple.com/documentation/coredata/using_lightweight_migration.</p>
</div>
<p>As you see from this list, Core Data can detect, and more importantly, automatically react to, a wide variety of common changes between data models.</p>
<p>As a rule of thumb, all migrations, if necessary, should start as lightweight migrations and only move to more complex mappings when the need arises.</p>
<p>As for the migration from <code>UnCloudNotes</code> to <code>UnCloudNotes v2</code>, the image property has a default value of nil since it’s an optional property. This means Core Data can easily migrate the old data store to a new one, since this change follows item 3 in the list of lightweight migration patterns.</p>
<h3 id="image-attachments">Image attachments<a class="headerlink" href="#image-attachments" title="Permanent link">&para;</a></h3>
<p>Now the data is migrated, you need to update the UI to allow image attachments to new notes. Luckily, most of this work has been done for you.</p>
<p>Open <strong>Main.storyboard</strong> and find the <code>Create Note</code> scene. Underneath, you’ll see the <code>Create Note With Images</code> scene that includes the interface to attach an image.</p>
<p>The <code>Create Note</code> scene is attached to a navigation controller with a root view controller relationship. <code>Control-drag</code> from the navigation controller to the <code>Create Note With Images</code> scene and select the root view controller relationship segue.</p>
<p>This will disconnect the old <code>Create Note</code> scene and connect the new, image-powered one instead.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/fa554b17e3a303ecb50801a16afba84a8bc58a2c462dc7eb9935aefb512b05bd/original.png" /></p>
<p>Next, open <strong>AttachPhotoViewController.swift</strong> and add the following method to the <code>UIImagePickerControllerDelegate</code> extension:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span>
  <span class="kc">_</span> <span class="n">picker</span><span class="p">:</span> <span class="bp">UIImagePickerController</span><span class="p">,</span>
  <span class="n">didFinishPickingMediaWithInfo</span> <span class="n">info</span><span class="p">:</span>
  <span class="p">[</span><span class="bp">UIImagePickerController</span><span class="p">.</span><span class="n">InfoKey</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">note</span> <span class="p">=</span> <span class="n">note</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>

  <span class="n">note</span><span class="p">.</span><span class="n">image</span> <span class="p">=</span>
    <span class="n">info</span><span class="p">[</span><span class="bp">UIImagePickerController</span><span class="p">.</span><span class="n">InfoKey</span><span class="p">.</span><span class="n">originalImage</span><span class="p">]</span>
    <span class="k">as</span><span class="p">?</span> <span class="bp">UIImage</span>

  <span class="kc">_</span> <span class="p">=</span> <span class="n">navigationController</span><span class="p">?.</span><span class="n">popViewController</span><span class="p">(</span>
    <span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This will populate the new image property of the note once the user selects an image from the standard image picker.</p>
<p>Next, open <strong>CreateNoteViewController.swift</strong> and replace <code>viewDidAppear(_:)</code> with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kr">override</span> <span class="kd">func</span> <span class="nf">viewDidAppear</span><span class="p">(</span><span class="kc">_</span> <span class="n">animated</span><span class="p">:</span> <span class="nb">Bool</span><span class="p">)</span> <span class="p">{</span>
  <span class="kc">super</span><span class="p">.</span><span class="n">viewDidAppear</span><span class="p">(</span><span class="n">animated</span><span class="p">)</span>

  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">image</span> <span class="p">=</span> <span class="n">note</span><span class="p">?.</span><span class="n">image</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">titleField</span><span class="p">.</span><span class="n">becomeFirstResponder</span><span class="p">()</span>
    <span class="k">return</span>
  <span class="p">}</span>

  <span class="n">attachedPhoto</span><span class="p">.</span><span class="n">image</span> <span class="p">=</span> <span class="n">image</span>
  <span class="n">view</span><span class="p">.</span><span class="n">endEditing</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This will display the new image if the user has added one to the note.</p>
<p>Next, open <strong>NotesListViewController.swift</strong> and update <code>tableView(_:cellForRowAt):</code>with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kr">override</span> <span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span>
  <span class="kc">_</span> <span class="n">tableView</span><span class="p">:</span> <span class="bp">UITableView</span><span class="p">,</span>
  <span class="n">cellForRowAt</span> <span class="n">indexPath</span><span class="p">:</span> <span class="n">IndexPath</span>
<span class="p">)</span> <span class="p">-&gt;</span> <span class="bp">UITableViewCell</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">note</span> <span class="p">=</span> <span class="n">notes</span><span class="p">.</span><span class="n">object</span><span class="p">(</span><span class="n">at</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nv">cell</span><span class="p">:</span> <span class="n">NoteTableViewCell</span>
  <span class="k">if</span> <span class="n">note</span><span class="p">.</span><span class="n">image</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="n">cell</span> <span class="p">=</span> <span class="n">tableView</span><span class="p">.</span><span class="n">dequeueReusableCell</span><span class="p">(</span>
      <span class="n">withIdentifier</span><span class="p">:</span> <span class="s">&quot;NoteCell&quot;</span><span class="p">,</span>
      <span class="k">for</span><span class="p">:</span> <span class="n">indexPath</span>
    <span class="p">)</span> <span class="k">as</span><span class="p">!</span> <span class="n">NoteTableViewCell</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">cell</span> <span class="p">=</span> <span class="n">tableView</span><span class="p">.</span><span class="n">dequeueReusableCell</span><span class="p">(</span>
      <span class="n">withIdentifier</span><span class="p">:</span> <span class="s">&quot;NoteCellWithImage&quot;</span><span class="p">,</span>
      <span class="k">for</span><span class="p">:</span> <span class="n">indexPath</span>
    <span class="p">)</span> <span class="k">as</span><span class="p">!</span> <span class="n">NoteImageTableViewCell</span>
  <span class="p">}</span>

  <span class="n">cell</span><span class="p">.</span><span class="n">note</span> <span class="p">=</span> <span class="n">note</span>
  <span class="k">return</span> <span class="n">cell</span>
<span class="p">}</span>
</code></pre></div>
<p>This will dequeue the correct <code>UITableViewCell</code> subclass based on the note having an image present or not. Finally, open <strong>NoteImageTableViewCell.swift</strong> and add the following to the end of <code>updateNoteInfo(note:)</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">noteImage</span><span class="p">.</span><span class="n">image</span> <span class="p">=</span> <span class="n">note</span><span class="p">.</span><span class="n">image</span>
</code></pre></div>
<p>This will update the <code>UIImageView</code> inside the <code>NoteImageTableViewCell</code> with the image from the note. Build and run, and choose to add a new note:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/e86d24dbed843819137e549f50eab79dfd14adc9b19e820c1c631cf1f6aeff3c/original.png" /></p>
<p>Tap the <code>Attach Image</code> button to add an image to the note. Choose an image from your simulated photo library and you’ll see it in your new note:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/5c9fb1fcc11c54c22b8506c04df6fc52cdab981fa36835625d9c31a492931641/original.png" /></p>
<p>The app uses the standard <code>UIImagePickerController</code> to add photos as attachments to notes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To add your own images to the Simulator’s photo album, drag an image file onto the open Simulator window. Thankfully, the iOS Simulator comes with a library of photos ready for your use.</p>
</div>
<p>If you’re using a device, open <strong>AttachPhotoViewController.swift</strong> and set the <code>sourceType</code>attribute on the image picker controller to <code>.camera</code> to take photos with the device camera. The existing code uses the photo album, since there is no camera in the Simulator.</p>
<p>Add a couple of sample notes with photos, since in the next section you’ll be using the sample data to move forward with a slightly more complex migration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At this point, you might want to make a copy of the v2 source code into a different folder to come back to later. Or if you’re using source control, set a tag here so you can come back to this point. You may also want to save a copy of the data store file and append the name with “v2” for this version of the application as you’ll use this later on for more complex migrations.</p>
</div>
<p>Congratulations; you’ve successfully migrated your data and added a new feature based on the migrated data.</p>
<h2 id="a-manual-migration">A manual migration<a class="headerlink" href="#a-manual-migration" title="Permanent link">&para;</a></h2>
<p>The next step in the evolution of this data model is to move from attaching a single image to a note to attaching multiple images. The note entity will stay, and you’ll need a new entity for an image. Since a note can have many images, there will be a to-many relationship.</p>
<p>Splitting one entity into two isn’t exactly on the list of things lightweight migrations can support. It’s time to level up to a custom manual migration!</p>
<p>The first step in every migration is to create a new model version. As before, select the <strong>UnCloudNotesDataModel.xcdatamodeld</strong> file and from the <code>Editor</code> menu item, select <code>Add Model Version...</code>. Name this model <code>UnCloudNotesDataModel v3</code> and base it on the <code>v2</code> data model. Set the new model version as the default model using the option in the <code>File Inspector Pane</code>.</p>
<p>Next, you’ll add a new entity to the new data model. In the lower-left corner, click the Add Entity button. Rename this entity <code>Attachment</code>. Select the entity and in the Data Model Inspector pane, set the Class Name to Attachment, and the Module to <code>Current Product Module</code>.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/bcf02c4f3fe10657bf6d548d276bed5ffb270c4ba053aa96ac8bdfc4faf299a8/original.png" /></p>
<p>Create two attributes in the <code>Attachment</code> entity. Add a non-optional attribute named <code>image</code> of type <code>Transformable</code>, with the Custom Class transformer field set to <code>ImageTransformer</code> and Module field set to <code>Current Product Module</code>. This is the same as the image attribute you added to the <code>Note</code> entity earlier. Add a second non-optional attribute called <code>dateCreated</code> and make it a <code>Date</code> type.</p>
<p>Next, add a relationship to the <code>Note</code> entity from the <code>Attachment</code> entity. Set the relationship name to <code>note</code> and its destination to <code>Note</code>.</p>
<p>Select the <code>Note</code> entity and delete the <code>image</code> attribute. Finally, create a to-many relationship from the <code>Note</code> entity to the <code>Attachment</code> entity. Leave it marked as <em>Optional</em>. Name the relationship <code>attachments</code>, set the destination to <code>Attachment</code> and select the <code>note</code> relationship you just created as the inverse.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/81b5d2b8e2419d92eb20d2a2bc33843d86df8cbdf87f5229ddb1a2dd5f198b7e/original.png" /></p>
<p>The data model is now ready for migration! While the Core Data model is ready, the code in your app will need some updates to use the changes to the data entities. Remember, you’re not working with the <code>image</code> property on a <code>Note</code> any more, but with multiple <code>attachments</code>.</p>
<p>Create a new file called <strong>Attachment.swift</strong> and replace its contents with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kd">import</span> <span class="nc">Foundation</span>
<span class="kd">import</span> <span class="nc">UIKit</span>
<span class="kd">import</span> <span class="nc">CoreData</span>

<span class="kd">class</span> <span class="nc">Attachment</span><span class="p">:</span> <span class="bp">NSManagedObject</span> <span class="p">{</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">dateCreated</span><span class="p">:</span> <span class="n">Date</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">image</span><span class="p">:</span> <span class="bp">UIImage</span><span class="p">?</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">note</span><span class="p">:</span> <span class="n">Note</span><span class="p">?</span>
<span class="p">}</span>
</code></pre></div>
<p>Next, open <strong>Note.swift</strong> and replace the <code>image</code> property with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">attachments</span><span class="p">:</span> <span class="n">Set</span><span class="p">&lt;</span><span class="n">Attachment</span><span class="p">&gt;?</span>
</code></pre></div>
<p>The rest of your app still depends on an <code>image</code> property, so you’ll get a compile error if you try to build the app. Add the following to the <code>Note</code> class below <code>attachments</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">image</span><span class="p">:</span> <span class="bp">UIImage</span><span class="p">?</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">latestAttachment</span><span class="p">?.</span><span class="n">image</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">latestAttachment</span><span class="p">:</span> <span class="n">Attachment</span><span class="p">?</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">attachments</span> <span class="p">=</span> <span class="n">attachments</span><span class="p">,</span>
    <span class="kd">let</span> <span class="nv">startingAttachment</span> <span class="p">=</span> <span class="n">attachments</span><span class="p">.</span><span class="bp">first</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">nil</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nb">Array</span><span class="p">(</span><span class="n">attachments</span><span class="p">).</span><span class="bp">reduce</span><span class="p">(</span><span class="n">startingAttachment</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$0</span><span class="p">.</span><span class="n">dateCreated</span><span class="p">.</span><span class="n">compare</span><span class="p">(</span><span class="nv">$1</span><span class="p">.</span><span class="n">dateCreated</span><span class="p">)</span>
      <span class="p">==</span> <span class="p">.</span><span class="n">orderedAscending</span> <span class="p">?</span> <span class="nv">$0</span> <span class="p">:</span> <span class="nv">$1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This implementation uses a computed property, which gets the image from the latest attachment.</p>
<p>If there are several attachments, <code>latestAttachment</code> will, as its name suggests, grab the latest one and return it.</p>
<p>Next, open <strong>AttachPhotoViewController.swift</strong>. Update it to create a new <code>Attachment</code>object when the user chooses an image. Add the Core Data import to the top of the file:</p>
<div class="highlight"><pre><span></span><code><span class="kd">import</span> <span class="nc">CoreData</span>
</code></pre></div>
<p>Next, replace <code>imagePickerController(_:didFinishPickingMediaWithInfo:)</code> with:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span>
  <span class="kc">_</span> <span class="n">picker</span><span class="p">:</span> <span class="bp">UIImagePickerController</span><span class="p">,</span>
  <span class="n">didFinishPickingMediaWithInfo</span> <span class="n">info</span><span class="p">:</span>
  <span class="p">[</span><span class="bp">UIImagePickerController</span><span class="p">.</span><span class="n">InfoKey</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="kd">let</span> <span class="nv">note</span> <span class="p">=</span> <span class="n">note</span><span class="p">,</span>
    <span class="kd">let</span> <span class="nv">context</span> <span class="p">=</span> <span class="n">note</span><span class="p">.</span><span class="n">managedObjectContext</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span>
  <span class="p">}</span>

  <span class="kd">let</span> <span class="nv">attachment</span> <span class="p">=</span> <span class="n">Attachment</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
  <span class="n">attachment</span><span class="p">.</span><span class="n">dateCreated</span> <span class="p">=</span> <span class="n">Date</span><span class="p">()</span>
  <span class="n">attachment</span><span class="p">.</span><span class="n">image</span> <span class="p">=</span>
    <span class="n">info</span><span class="p">[</span><span class="bp">UIImagePickerController</span><span class="p">.</span><span class="n">InfoKey</span><span class="p">.</span><span class="n">originalImage</span><span class="p">]</span> 
    <span class="k">as</span><span class="p">?</span> <span class="bp">UIImage</span>
  <span class="n">attachment</span><span class="p">.</span><span class="n">note</span> <span class="p">=</span> <span class="n">note</span>

  <span class="kc">_</span> <span class="p">=</span> <span class="n">navigationController</span><span class="p">?.</span><span class="n">popViewController</span><span class="p">(</span><span class="n">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This implementation creates a new <code>Attachment</code> entity adding the image from the <code>UIImagePickerController</code> as the <code>image</code> property then sets the <code>note</code> property of the <code>Attachment</code> as the current note.</p>
<h3 id="mapping-models">Mapping models<a class="headerlink" href="#mapping-models" title="Permanent link">&para;</a></h3>
<p>With lightweight migrations, Core Data can automatically create a mapping model to migrate data from one model version to another when the changes are simple. When the changes aren’t as simple, you can manually set up the steps to migrate from one model version to another with a mapping model.</p>
<p>It’s important to know that before creating a mapping model, you must complete and finalize your target model.</p>
<p>During the process for creating a new Mapping Model, you’ll essentially lock in the source and destination model versions into the Mapping Model file.</p>
<p>This means any changes you make to the actual data model after creating the mapping model will not be seen by the Mapping Model.</p>
<p>Now that you’ve finished making changes to the <code>v3</code> data model, you know lightweight migration isn’t going to do the job. To create a mapping model, open the File menu in Xcode and select <strong>New ▸ File</strong>.</p>
<p>Navigate to the iOS\Core Data section and select Mapping Model:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/b2cf0e8d1b4874935942d9547063dd541fa23a21d59f4ec464009cf2d1388170/original.png" /></p>
<p>Click Next, select the <code>v2</code> data model as the source model and select the <code>v3</code> data model as the target model.</p>
<p>Name the new file <strong>UnCloudNotesMappingModel_v2_to_v3</strong>. The file naming convention I typically use is the data model name along with the source version and destination version. As an application collects more and more mapping models over time, this file naming convention makes it easier to distinguish between files and the order in which they have changed over time.</p>
<p>Open <strong>UnCloudNotesMappingModel_v2_to_v3.xcmappingmodel</strong>. Luckily, the mapping model doesn’t start completely from scratch; Xcode examines the source and target models and infers as much as it can, so you’re starting out with a mapping model that consists of the basics.</p>
<h3 id="attribute-mapping">Attribute mapping<a class="headerlink" href="#attribute-mapping" title="Permanent link">&para;</a></h3>
<p>There are two mappings, one named <code>NoteToNote</code> and another simply named <code>Attachment</code>. <code>NoteToNote</code> describes how to migrate the v2 Note entity to the v3 Note entity.</p>
<p>Select <code>NoteToNote</code> and you’ll see two sections: <strong>Attribute Mappings</strong> and <strong>Relationship Mappings</strong>.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/55fae3f1e098a848e359c3059f0a1835409060a253c366b2ea1dd5610e0888f2/original.png" /></p>
<p>The attributes mappings here are fairly straightforward. Notice the value expressions with the pattern <code>$source</code>. <code>$source</code> is a special token for the mapping model editor, representing a reference to the source instance. Remember, with Core Data, you’re not dealing with rows and columns in a database. Instead, you’re dealing with objects, their attributes and classes.</p>
<p>In this case, the values for <code>body</code>, <code>dateCreated</code>, <code>displayIndex</code> and <code>title</code> will be transferred directly from the source. Those are the easy cases!</p>
<p>The <code>attachments</code> relationship is new, so Xcode couldn’t fill in anything from the source. But, it turns out you’ll not be using this particular relationship mapping, so delete this mapping. You’ll get to the proper relationship mapping shortly.</p>
<p>Select the <code>Attachment</code> mapping and make sure the Utilities panel on the right is open.</p>
<p>Select the last tab in the Utilities panel to open the <code>Entity Mapping</code> inspector:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/c6f260902348e699fc1271a8f6d90d7018046ac7e0e5ff0f219c91b6969042d8/original.png" /></p>
<p>Select <code>Note</code> as the source entity in the drop-down list. Once you select the source entity, Xcode will try to resolve the mappings automatically based on the names of the attributes of the source and destination entities. In this case, Xcode will fill in the <code>dateCreated</code> and <code>image</code> mappings for you:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/6e6bdfa4aac1ba09fb292d18c144db9cbe212a49fd6d2d48bf7c2bcce53ff37b/original.png" /></p>
<p>Xcode will also rename the entity mapping from <code>Attachment</code> to <code>NoteToAttachment</code>. Xcode is being helpful again; it just needs a small nudge from you to specify the source entity. Since the attribute names match, Xcode will fill in the value expressions for you. What does it mean to map data from <code>Note</code> entities to <code>Attachment</code> entities? Think of this as saying, “For each Note, make an Attachment and copy the image and dateCreated attributes across.”</p>
<p>This mapping will create an <code>Attachment</code> for every <code>Note</code>, but you really only want an <code>Attachment</code> if there is an image attached to the note. Make sure the <code>NoteToAttachment</code>entity mapping is selected and in the inspector, set the Filter Predicate field to <strong>image != nil</strong>. This will ensure the <code>Attachment</code> mapping only occurs when an image is present in the source.</p>
<h3 id="relationship-mapping">Relationship mapping<a class="headerlink" href="#relationship-mapping" title="Permanent link">&para;</a></h3>
<p>The migration is able to copy the images from <code>Notes</code> to <code>Attachments</code>, but as of yet, there’s no relationship linking the <code>Note</code> to the <code>Attachment</code>. The next step to get that behavior is to add a relationship mapping.</p>
<p>In the <code>NoteToAttachment</code> mapping, you’ll see a relationship mapping called <code>note</code>. Like the relationship mapping you saw in <code>NoteToNote</code>, the value expression is empty since Xcode doesn’t know how to automatically migrate the relationship.</p>
<p>Select the <strong>NoteToAttachment</strong> mapping. Select the <code>note</code> relationship row in the list of relationships so that the Inspector changes to reflect the properties of the relationship mapping. In the Source Fetch field, select <strong>Auto Generate Value Expression</strong>. Enter <code>$source</code> in the <code>Key Path</code> field and select <strong>NoteToNote</strong> from the <code>Mapping Name</code> field.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/49f1c992c689c8107459b825caaf70db06e9d5bbd5caf9793d1adfa76400083b/original.png" /></p>
<p>This should generate a value expression that looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">FUNCTION</span><span class="p">(</span><span class="err">$</span><span class="n">manager</span><span class="p">,</span>
  <span class="s">&quot;destinationInstancesForEntityMappingNamed:sourceInstances:&quot;</span><span class="p">,</span>
  <span class="s">&quot;NoteToNote&quot;</span><span class="p">,</span> <span class="err">$</span><span class="n">source</span><span class="p">)</span>
</code></pre></div>
<p>The <strong>FUNCTION</strong> statement resembles the <code>objc_msgSend</code> syntax; that is, the first argument is the object instance, the second argument is the selector and any further arguments are passed into that method as parameters.</p>
<p>So, the mapping model is calling a method on the <code>$manager</code> object. The <code>$manager</code> token is a special reference to the <code>NSMigrationManager</code> object handling the migration process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using FUNCTION expressions still relies on some knowledge of Objective-C syntax. It might be some time until Apple gets around to porting Core Data 100% to Swift!</p>
</div>
<p>Core Data creates the migration manager during the migration. The migration manager keeps track of which source objects are associated with which destination objects. The method <code>destinationInstancesForEntityMappingNamed:sourceInstances:</code> will look up the destination instances for a source object.</p>
<p>The expression on the previous page says “set the note relationship to whatever the <code>$source</code> object for this mapping gets migrated to by the <code>NoteToNote</code> mapping,” which in this case will be the <code>Note</code> entity in the new data store. You’ve completed your custom mapping! You now have a mapping that is configured to split a single entity into two and relate the proper data objects together.</p>
<h3 id="one-last-thing">One last thing<a class="headerlink" href="#one-last-thing" title="Permanent link">&para;</a></h3>
<p>Before running this migration, you need to update the Core Data setup code to use this mapping model and not try to infer one on its own.</p>
<p>Open <strong>CoreDataStack.swift</strong> and look for the <code>storeDescription</code> property on to which you set the flags for enabling migrations in the first place. Change the flags to the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">description</span><span class="p">.</span><span class="n">shouldMigrateStoreAutomatically</span> <span class="p">=</span> <span class="kc">true</span>
<span class="n">description</span><span class="p">.</span><span class="n">shouldInferMappingModelAutomatically</span> <span class="p">=</span> <span class="kc">false</span>
</code></pre></div>
<p>By setting <code>shouldInferMappingModelAutomatically</code> to <code>false</code>, you’ve ensured that the persistent store coordinator will now use the new mapping model to migrate the store. Yes, that’s all the code you need to change; there is no new code!</p>
<p>When Core Data is told not to infer or generate a mapping model, it will look for the mapping model files in the default or main bundle. The mapping model contains the source and destination versions of the model. Core Data will use that information to determine which mapping model, if any, to use to perform a migration. It really is as simple as changing a single option to use the custom mapping model.</p>
<p>Strictly speaking, setting <code>shouldMigrateStoreAutomatically</code> to <code>true</code> isn’t necessary here as <code>true</code> is the value by default. But, let’s just say, we’re going to need this again later.</p>
<p>Build and run the app. You’ll notice not a whole lot has changed on the surface! However, if you still see your notes and images as before, the mapping model worked. Core Data has updated the underlying schema of the SQLite store to reflect the changes in the v3 data model.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Again, you might want to make a copy of the v3 source code into a different folder to come back to later. Or if you’re using source control, set a tag here so you can come back to this point. Again, you may also want to save a copy of the data store file and append the name with “v3” for this version of the application as you’ll use this later on for more complex migrations.</p>
</div>
<h2 id="a-complex-mapping-model">A complex mapping model<a class="headerlink" href="#a-complex-mapping-model" title="Permanent link">&para;</a></h2>
<p>The higher-ups have thought of a new feature for <code>UnCloudNotes</code>, so you know what that means. It’s time to migrate the data model once again! This time, they’ve decided that supporting only image attachments isn’t enough. They want future versions of the app to support videos, audio files or really add any kind of attachment that makes sense.</p>
<p>You make the decision to have a base entity called <code>Attachment</code> and a subclass called <code>ImageAttachment</code>. This will enable each attachment type to have its own useful information. Images could have attributes for caption, image size, compression level, file size, et cetera. Later, you can add more subclasses for other attachment types.</p>
<p>While new images will grab this information prior to saving, you’ll need to extract that information from current images during the migration. You’ll need to use either <code>CoreImage</code>or the <code>ImageIO</code> libraries. These are data transformations that Core Data definitely doesn’t support out of the box, which makes a custom manual migration the proper tool for the job.</p>
<p>As usual, the first step in any data migration is to select the data model file in Xcode and select <strong>Editor ▸ Add Model Version…</strong>. This time, create version 4 of the data model called <code>UnCloudNotesDataModel v4</code>. Don’t forget to set the current version of the data model to v4 in the Xcode Inspector.</p>
<p>Open the v4 data model and add a new entity named <code>ImageAttachment</code>. Set the class to <code>ImageAttachment</code>, and the module to <code>Current Product Module</code>. Make the following changes to <code>ImageAttachment</code>:</p>
<ol>
<li>Set the Parent Entity to <code>Attachment</code>.</li>
<li>Add a required String attribute named <code>caption</code>.</li>
<li>Add a required Float attribute named <code>width</code>.</li>
<li>Add a required Float attribute name <code>height</code>.</li>
<li>Add an optional Transformable attribute named <code>image</code>.</li>
<li>Set the ValueTransformer to <code>ImageTransformer</code>, and set the Module value to <code>Current Product Module</code>.</li>
</ol>
<p>Next, inside the <code>Attachment</code> entity:</p>
<ol>
<li>Delete the <code>image</code> attribute.</li>
<li>If a newRelationship has been automatically created, delete it.</li>
</ol>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/0bf19c6075dbc6935023744aa3b4158a983c3fed5fb3f6a933778565764f5c65/original.png" /></p>
<p>A parent entity is similar to having a parent class, which means <code>ImageAttachment</code> will inherit the attributes of <code>Attachment</code>. When you set up the managed object subclass later, you’ll see this inheritance made explicit in the code.</p>
<p>Before you create the custom code for the mapping model, it’ll be easier if you create the <code>ImageAttachment</code> source file now. Create a new Swift file called <strong>ImageAttachment</strong> and replace its contents with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kd">import</span> <span class="nc">UIKit</span>
<span class="kd">import</span> <span class="nc">CoreData</span>

<span class="kd">class</span> <span class="nc">ImageAttachment</span><span class="p">:</span> <span class="n">Attachment</span> <span class="p">{</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">image</span><span class="p">:</span> <span class="bp">UIImage</span><span class="p">?</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">width</span><span class="p">:</span> <span class="nb">Float</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">height</span><span class="p">:</span> <span class="nb">Float</span>
  <span class="kr">@NSManaged</span> <span class="kd">var</span> <span class="nv">caption</span><span class="p">:</span> <span class="nb">String</span>
<span class="p">}</span>
</code></pre></div>
<p>Next, open <strong>Attachment.swift</strong> and delete the <code>image</code> property. Since it’s been moved to <code>ImageAttachment</code>, and removed from the <code>Attachment</code> entity in the v4 data model, it should be deleted from the code. That should do it for the new data model. Once you’ve finished, your version 4 data model should look like this:</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/6ac2479cd5362dd962b6d77dd556f6b04c7069e614f139c867338069a29fc835/original.png" /></p>
<h3 id="mapping-model">Mapping model<a class="headerlink" href="#mapping-model" title="Permanent link">&para;</a></h3>
<p>In the Xcode menu, choose <strong>File ▸ New File</strong> and select the <strong>iOS ▸ Core Data ▸ Mapping Model</strong>template. Select version 3 as the source model and version 4 as the target. Name the file <strong>UnCloudNotesMappingModel_v3_to_v4</strong>.</p>
<p>Open the new mapping model in Xcode and you’ll see Xcode has again helpfully filled in a few mappings for you.</p>
<p>Starting with the <code>NoteToNote</code> mapping, Xcode has directly copied the source entities from the source store to the target with no conversion or transformation. The default Xcode values for this simple data migration are good to go, as-is!</p>
<p>Select the <code>AttachmentToAttachment</code> mapping. Xcode has also detected some common attributes in the source and target entities and generated mappings. However, you want to convert <code>Attachment</code> entities to <code>ImageAttachment</code> entities. What Xcode has created here will map old <code>Attachment</code> entities to new <code>Attachment</code> entities, which isn’t the goal of this migration. Delete this mapping.</p>
<p>Next, select the <code>ImageAttachment</code> mapping. This mapping has no source entity since it’s a completely new entity. In the inspector, change the source entity to be <code>Attachment</code>. Now that Xcode knows the source, it will fill in a few of the value expressions for you. Xcode will also rename the mapping to something a little more appropriate, <code>AttachmentToImageAttachment</code>.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/8446e605a332d8049eeab93117e0573cfbc76978dbf807454bd1c879bfc0c91c/original.png" /></p>
<p>For the remaining, unfilled, attributes, you’ll need to write some code. This is where you need image processing and custom code beyond simple FUNCTION expressions! But first, delete those extra mappings, <em>caption</em>, <em>height</em> and <em>width</em>. These values will be computed using a custom migration policy, which happens to be the next section!</p>
<h3 id="custom-migration-policies">Custom migration policies<a class="headerlink" href="#custom-migration-policies" title="Permanent link">&para;</a></h3>
<p>To move beyond FUNCTION expressions in the mapping model, you can subclass <code>NSEntityMigrationPolicy</code> directly. This lets you write Swift code to handle the migration, instance by instance, so you can call on any framework or library available to the rest of your app.</p>
<p>Add a new Swift file to the project called <strong>AttachmentToImageAttachmentMigrationPolicyV3toV4.swift</strong> and replace its contents with the following starter code:</p>
<div class="highlight"><pre><span></span><code><span class="kd">import</span> <span class="nc">CoreData</span>
<span class="kd">import</span> <span class="nc">UIKit</span>

<span class="kd">let</span> <span class="nv">errorDomain</span> <span class="p">=</span> <span class="s">&quot;Migration&quot;</span>

<span class="kd">class</span> <span class="nc">AttachmentToImageAttachmentMigrationPolicyV3toV4</span><span class="p">:</span>
  <span class="bp">NSEntityMigrationPolicy</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>This naming convention should look familiar to you; it’s noting this is a custom migration policy and is for transforming data from <code>Attachments</code> in model version 3 to <code>ImageAttachments</code> in model version 4.</p>
<p>You’ll want to connect this new mapping class to your newly created mapping file before you forget about it. Back in the <strong>v3-to-v4 mapping model file</strong>, select the <strong>AttachmentToImageAttachment</strong> entity mapping. In the <code>Entity Mapping Inspector</code>, fill in the <strong>Custom Policy</strong> field with the fully namespaced class name you just created (including the module):</p>
<ul>
<li><strong>UnCloudNotes.AttachmentToImageAttachmentMigrationPolicyV3toV4</strong>.</li>
</ul>
<p>When you press Enter to confirm this change, the type above Custom Policy should change to read <code>Custom</code>.</p>
<p>When Core Data runs this migration, it will create an instance of your custom migration policy when it needs to perform a data migration for that specific set of data. That’s your chance to run any custom transformation code to extract image information during migration! Now, it’s time to add some custom logic to the custom entity mapping policy.</p>
<p>Open <strong>AttachmentToImageAttachmentMigrationPolicyV3toV4.swift</strong> and add the method to perform the migration:</p>
<div class="highlight"><pre><span></span><code><span class="kr">override</span> <span class="kd">func</span> <span class="nf">createDestinationInstances</span><span class="p">(</span>
  <span class="n">forSource</span> <span class="n">sInstance</span><span class="p">:</span> <span class="bp">NSManagedObject</span><span class="p">,</span>
  <span class="k">in</span> <span class="n">mapping</span><span class="p">:</span> <span class="bp">NSEntityMapping</span><span class="p">,</span>
  <span class="n">manager</span><span class="p">:</span> <span class="bp">NSMigrationManager</span>
<span class="p">)</span> <span class="kr">throws</span> <span class="p">{</span>
  <span class="c1">// 1</span>
  <span class="kd">let</span> <span class="nv">description</span> <span class="p">=</span> <span class="bp">NSEntityDescription</span><span class="p">.</span><span class="n">entity</span><span class="p">(</span>
    <span class="n">forEntityName</span><span class="p">:</span> <span class="s">&quot;ImageAttachment&quot;</span><span class="p">,</span>
    <span class="k">in</span><span class="p">:</span> <span class="n">manager</span><span class="p">.</span><span class="n">destinationContext</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nv">newAttachment</span> <span class="p">=</span> <span class="n">ImageAttachment</span><span class="p">(</span>
    <span class="n">entity</span><span class="p">:</span> <span class="n">description</span><span class="p">!,</span>
    <span class="n">insertInto</span><span class="p">:</span> <span class="n">manager</span><span class="p">.</span><span class="n">destinationContext</span>
  <span class="p">)</span>

  <span class="c1">// 2</span>
  <span class="kd">func</span> <span class="nf">traversePropertyMappings</span><span class="p">(</span>
    <span class="n">block</span><span class="p">:</span> <span class="p">(</span><span class="bp">NSPropertyMapping</span><span class="p">,</span> <span class="nb">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Void</span>
  <span class="p">)</span> <span class="kr">throws</span> <span class="p">{</span>
    <span class="k">if</span> <span class="kd">let</span> <span class="nv">attributeMappings</span> <span class="p">=</span> <span class="n">mapping</span><span class="p">.</span><span class="n">attributeMappings</span> <span class="p">{</span>
      <span class="k">for</span> <span class="n">propertyMapping</span> <span class="k">in</span> <span class="n">attributeMappings</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kd">let</span> <span class="nv">destinationName</span> <span class="p">=</span> <span class="n">propertyMapping</span><span class="p">.</span><span class="n">name</span> <span class="p">{</span>
          <span class="n">block</span><span class="p">(</span><span class="n">propertyMapping</span><span class="p">,</span> <span class="n">destinationName</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="c1">// 3</span>
          <span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span>
            <span class="s">&quot;Attribute destination not configured properly&quot;</span>
          <span class="kd">let</span> <span class="nv">userInfo</span> <span class="p">=</span>
            <span class="p">[</span><span class="n">NSLocalizedFailureReasonErrorKey</span><span class="p">:</span> <span class="n">message</span><span class="p">]</span>
          <span class="k">throw</span> <span class="bp">NSError</span><span class="p">(</span><span class="n">domain</span><span class="p">:</span> <span class="n">errorDomain</span><span class="p">,</span>
                        <span class="n">code</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">userInfo</span><span class="p">:</span> <span class="n">userInfo</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nv">message</span> <span class="p">=</span> <span class="s">&quot;No Attribute Mappings found!&quot;</span>
      <span class="kd">let</span> <span class="nv">userInfo</span> <span class="p">=</span> <span class="p">[</span><span class="n">NSLocalizedFailureReasonErrorKey</span><span class="p">:</span> <span class="n">message</span><span class="p">]</span>
      <span class="k">throw</span> <span class="bp">NSError</span><span class="p">(</span><span class="n">domain</span><span class="p">:</span> <span class="n">errorDomain</span><span class="p">,</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">userInfo</span><span class="p">:</span> <span class="n">userInfo</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 4</span>
  <span class="k">try</span> <span class="n">traversePropertyMappings</span> <span class="p">{</span> <span class="n">propertyMapping</span><span class="p">,</span> <span class="n">destinationName</span> <span class="k">in</span>
    <span class="k">if</span> <span class="kd">let</span> <span class="nv">valueExpression</span> <span class="p">=</span> <span class="n">propertyMapping</span><span class="p">.</span><span class="n">valueExpression</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nv">context</span><span class="p">:</span> <span class="bp">NSMutableDictionary</span> <span class="p">=</span> <span class="p">[</span><span class="s">&quot;source&quot;</span><span class="p">:</span> <span class="n">sInstance</span><span class="p">]</span>
      <span class="k">guard</span> <span class="kd">let</span> <span class="nv">destinationValue</span> <span class="p">=</span>
        <span class="n">valueExpression</span><span class="p">.</span><span class="n">expressionValue</span><span class="p">(</span>
        <span class="n">with</span><span class="p">:</span> <span class="n">sInstance</span><span class="p">,</span>
        <span class="n">context</span><span class="p">:</span> <span class="n">context</span>
      <span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">return</span>
      <span class="p">}</span>

      <span class="n">newAttachment</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">destinationValue</span><span class="p">,</span>
                             <span class="n">forKey</span><span class="p">:</span> <span class="n">destinationName</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 5</span>
  <span class="k">if</span> <span class="kd">let</span> <span class="nv">image</span> <span class="p">=</span> <span class="n">sInstance</span><span class="p">.</span><span class="n">value</span><span class="p">(</span><span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;image&quot;</span><span class="p">)</span> <span class="k">as</span><span class="p">?</span> <span class="bp">UIImage</span> <span class="p">{</span>
    <span class="n">newAttachment</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;width&quot;</span><span class="p">)</span>
    <span class="n">newAttachment</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;height&quot;</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// 6</span>
  <span class="kd">let</span> <span class="nv">body</span> <span class="p">=</span> <span class="n">sInstance</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
    <span class="n">forKeyPath</span><span class="p">:</span> <span class="s">&quot;note.body&quot;</span>
  <span class="p">)</span> <span class="k">as</span><span class="p">?</span> <span class="bp">NSString</span> <span class="p">??</span> <span class="s">&quot;&quot;</span>
  <span class="n">newAttachment</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span>
    <span class="n">body</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="mi">80</span><span class="p">),</span>
    <span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;caption&quot;</span>
  <span class="p">)</span>

  <span class="c1">// 7</span>
  <span class="n">manager</span><span class="p">.</span><span class="n">associate</span><span class="p">(</span>
    <span class="n">sourceInstance</span><span class="p">:</span> <span class="n">sInstance</span><span class="p">,</span>
    <span class="n">withDestinationInstance</span><span class="p">:</span> <span class="n">newAttachment</span><span class="p">,</span>
    <span class="k">for</span><span class="p">:</span> <span class="n">mapping</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This method is an override of the default <code>NSEntityMigrationPolicy</code> implementation. It’s what the migration manager uses to create instances of destination entities. An instance of the source object is the first parameter; when overridden, it’s up to the developer to create the destination instance and associate it properly to the migration manager.</p>
<p>Here’s what’s going on, step by step:</p>
<ol>
<li>First, you create an instance of the new destination object. The migration manager has two Core Data stacks — one to read from the source and one to write to the destination — so you need to be sure to use the destination context here. Now, you might notice that this section isn’t using the new fancy short <code>ImageAttachment(context: NSManagedObjectContext)</code> initializer. Well, as it turns out, this migration will simply crash using the new syntax, because it depends on the model having been loaded and finalized, which hasn’t happened halfway through a migration.</li>
<li>Next, create a <code>traversePropertyMappings</code> function that performs the task of iterating over the property mappings if they are present in the migration. This function will control the traversal while the next section will perform the operation required for each property mapping.</li>
<li>If, for some reason, the <code>attributeMappings</code> property on the <code>entityMapping</code> object doesn’t return any mappings, this means your mappings file has been specified incorrectly. When this happens, the method will throw an error with some helpful information.</li>
<li>Even though it’s a custom manual migration, most of the attribute migrations should be performed using the expressions you defined in the mapping model. To do this, use the traversal function from the previous step and apply the value expression to the source instance and set the result to the new destination object.</li>
<li>Next, try to get an instance of the image. If it exists, grab its width and height to populate the data in the new object.</li>
<li>For the caption, simply grab the note’s body text and take the first 80 characters.</li>
<li>The migration manager needs to know the connection between the source object, the newly created destination object and the mapping. Failing to call this method at the end of a custom migration will result in missing data in the destination store.</li>
</ol>
<p>That’s it for the custom migration code! Core Data will pick up the mapping model when it detects a v3 data store on launch, and apply it to migrate to the new data model version. Since you added the custom <code>NSEntityMigrationPolicy</code> subclass and linked to it in the mapping model, Core Data will call through to your code automatically.</p>
<p>Finally, its time to go back to the main UI code and update the data model usage to take into account the new <code>ImageAttachment</code> entity. Open <strong>AttachPhotoViewController.swift</strong> and find <code>imagePickerController(_:didFinishPickingMediaWithInfo:)</code>.</p>
<p>Change the line that sets up attachment so it uses <code>ImageAttachment</code> instead:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">attachment</span> <span class="p">=</span> <span class="n">ImageAttachment</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div>
<p>And while you’re here, you should also add a value to the <code>caption</code> attribute. The <code>caption</code>attribute is a required string value, so if an ImageAttachment is created without a value (ie. a <code>nil</code> value), then the save will fail.</p>
<p>Ideally, there would be an extra field from which to enter the value, but add the following line for now:</p>
<div class="highlight"><pre><span></span><code><span class="n">attachment</span><span class="p">.</span><span class="n">caption</span> <span class="p">=</span> <span class="s">&quot;New Photo&quot;</span>
</code></pre></div>
<p>Next, open <strong>Note.swift</strong> and replace the <code>image</code> property with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">image</span><span class="p">:</span> <span class="bp">UIImage</span><span class="p">?</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">imageAttachment</span> <span class="p">=</span> <span class="n">latestAttachment</span> <span class="k">as</span><span class="p">?</span> <span class="n">ImageAttachment</span>
  <span class="k">return</span> <span class="n">imageAttachment</span><span class="p">?.</span><span class="n">image</span>
<span class="p">}</span>
</code></pre></div>
<p>Now that all the code changes have been put in place, you need to update the main data model to use v4 as the main data model.</p>
<p>Select <code>UnCloudNotesDataModel.xcdatamodeld</code> in the project navigator. In the Identity pane, under <em>Model Version</em> select <em>UnCloudNotesDataModel v4</em>.</p>
<p>Build and run the app. The data should migrate properly. Again, your notes will be there, images and all, but you’ve now future-enabled <code>UnCloudNotes</code> to add video, audio and anything else!</p>
<h2 id="migrating-non-sequential-versions">Migrating non-sequential versions<a class="headerlink" href="#migrating-non-sequential-versions" title="Permanent link">&para;</a></h2>
<p>Thus far, you’ve walked through a series of data migrations in order. You’ve migrated the data from version 1 to 2 to 3 to 4, in sequence. Inevitably, in the real world of App Store launches, a user might skip an update and need to go from version 2 to 4, for example. What happens then?</p>
<p>When Core Data performs a migration, its intention is to perform only a single migration. In this hypothetical scenario, Core Data would look for a mapping model that goes from version 2 to 4; if one didn’t exist, Core Data would infer one, if you tell it to. Otherwise the migration will fail, and Core Data will report an error when attempting to attach the store to the persistent store coordinator.</p>
<p>How can you handle this scenario so your requested migration succeeds? You could provide multiple mapping models, but as your app grows, you’d need to provide an inordinate number of these: from v1 to v4, v1 to v3, v2 to v4, et cetera. You would spend more time on mapping models than on the app itself!</p>
<p>The solution is to implement a fully custom migration sequence. You know that the migration from version 2 to 3 works; to go from 2 to 4, it will work well if you manually migrate the store from 2 to 3 and from 3 to 4. This step-by-step migration means you’ll prevent Core Data from looking for a direct 2 to 4 or even a 1 to 4 migration.</p>
<h2 id="a-self-migrating-stack">A self-migrating stack<a class="headerlink" href="#a-self-migrating-stack" title="Permanent link">&para;</a></h2>
<p>To begin implementing this solution, you’ll want to create a separate <code>migration manager</code>class. The responsibility of this class will be to provide a properly migrated Core Data stack, when asked. This class will have a stack property and will return an instance of CoreDataStack, as <code>UnCloudNotes</code> uses throughout, which has run through all the migrations necessary to be useful for the app.</p>
<p>First, create a new Swift file called <code>DataMigrationManager</code>. Open the file and replace its contents with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kd">import</span> <span class="nc">Foundation</span>
<span class="kd">import</span> <span class="nc">CoreData</span>

<span class="kd">class</span> <span class="nc">DataMigrationManager</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">enableMigrations</span><span class="p">:</span> <span class="nb">Bool</span>
  <span class="kd">let</span> <span class="nv">modelName</span><span class="p">:</span> <span class="nb">String</span>
  <span class="kd">let</span> <span class="nv">storeName</span><span class="p">:</span> <span class="nb">String</span> <span class="p">=</span> <span class="s">&quot;UnCloudNotesDataModel&quot;</span>
  <span class="kd">var</span> <span class="nv">stack</span><span class="p">:</span> <span class="n">CoreDataStack</span>

  <span class="kd">init</span><span class="p">(</span><span class="n">modelNamed</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">enableMigrations</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">=</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">modelName</span> <span class="p">=</span> <span class="n">modelNamed</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">enableMigrations</span> <span class="p">=</span> <span class="n">enableMigrations</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>You’ll notice that we’re going to start this off looking like the current CoreDataStack initializer. That is intended to make this next step a little easier to understand.</p>
<p>Next, open <strong>NotesListViewController.swift</strong> and replace the stack lazy initialization code, as shown below:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kr">lazy</span> <span class="kd">var</span> <span class="nv">stack</span><span class="p">:</span> <span class="n">CoreDataStack</span> <span class="p">=</span>
  <span class="n">CoreDataStack</span><span class="p">(</span><span class="n">modelName</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel&quot;</span><span class="p">)</span>
</code></pre></div>
<p>With:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kr">lazy</span> <span class="kd">var</span> <span class="nv">stack</span><span class="p">:</span> <span class="n">CoreDataStack</span> <span class="p">=</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">manager</span> <span class="p">=</span> <span class="n">DataMigrationManager</span><span class="p">(</span>
    <span class="n">modelNamed</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel&quot;</span><span class="p">,</span>
    <span class="n">enableMigrations</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">manager</span><span class="p">.</span><span class="n">stack</span>
<span class="p">}()</span>
</code></pre></div>
<p>You’ll use the <code>lazy</code> attribute to guarantee the stack is only initialized once. Second, initialization is actually handled by the <code>DataMigrationManager</code>, so the stack used will be the one returned from the <code>migration manager</code>. As mentioned, the signature of the new <code>DataMigrationManager</code> initializer is similar to the <code>CoreDataStack</code>. That’s because you’ve got a large bit of migration code coming up, and its a good idea to separate the responsibility of migration from the responsibility of saving data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The project won’t build just yet as you’ve yet to initialize a value for the <code>stack</code>property in the <code>DataMigrationManager</code>. Rest assured, that’s coming up soon.</p>
</div>
<p>Now to the harder part: How do you figure out if the store needs migrations? And if it does, how do you figure out where to start? In order to do a fully custom migration, you’re going to need a little bit of support. First, finding out whether models match or not is not obvious. You’ll also need a way to check a persistent store file for compatibility with a model. Let’s get started with all the support functions first!</p>
<p>At the bottom of <strong>DataMigrationManager.swift</strong>, add an extension on <code>NSManagedObjectModel</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">extension</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">func</span> <span class="n">modelURLs</span><span class="p">(</span>
    <span class="k">in</span> <span class="n">modelFolder</span><span class="p">:</span> <span class="nb">String</span>
  <span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="n">URL</span><span class="p">]</span> <span class="p">{</span>
    <span class="n">Bundle</span><span class="p">.</span><span class="n">main</span>
      <span class="p">.</span><span class="n">urls</span><span class="p">(</span><span class="n">forResourcesWithExtension</span><span class="p">:</span> <span class="s">&quot;mom&quot;</span><span class="p">,</span>
      <span class="n">subdirectory</span><span class="p">:</span> <span class="s">&quot;</span><span class="si">\(</span><span class="n">modelFolder</span><span class="si">)</span><span class="s">.momd&quot;</span><span class="p">)</span> <span class="p">??</span> <span class="p">[]</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">func</span> <span class="n">modelVersionsFor</span><span class="p">(</span>
    <span class="n">modelNamed</span> <span class="n">modelName</span><span class="p">:</span> <span class="nb">String</span>
  <span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="bp">NSManagedObjectModel</span><span class="p">]</span> <span class="p">{</span>
    <span class="n">modelURLs</span><span class="p">(</span><span class="k">in</span><span class="p">:</span> <span class="n">modelName</span><span class="p">)</span>
      <span class="p">.</span><span class="n">compactMap</span><span class="p">(</span><span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="kd">init</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">func</span> <span class="n">uncloudNotesModel</span><span class="p">(</span>
    <span class="n">named</span> <span class="n">modelName</span><span class="p">:</span> <span class="nb">String</span>
  <span class="p">)</span> <span class="p">-&gt;</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">model</span> <span class="p">=</span> <span class="n">modelURLs</span><span class="p">(</span><span class="k">in</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel&quot;</span><span class="p">)</span>
      <span class="p">.</span><span class="bp">first</span> <span class="p">{</span> <span class="nv">$0</span><span class="p">.</span><span class="n">lastPathComponent</span> <span class="p">==</span> <span class="s">&quot;</span><span class="si">\(</span><span class="n">modelName</span><span class="si">)</span><span class="s">.mom&quot;</span> <span class="p">}</span>
      <span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="kd">init</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span> <span class="p">??</span> <span class="bp">NSManagedObjectModel</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The first method returns all model versions for a given name. The second method returns a specific instance of <code>NSManagedObjectModel</code> named <code>UnCloudNotesDataModel</code>. Usually, Core Data will give you the most recent data model version, but this method will let you dig inside for a specific version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When Xcode compiles your app into its app bundle, it will also compile your data models. The app bundle will have at its root a <code>.momd</code> folder that contains <code>.mom</code>files. <strong>MOM</strong>, or Managed Object Model, files are the compiled versions of .xcdatamodel files. You’ll have a <code>.mom</code> for each data model version.</p>
</div>
<p>To use this method, add the following method inside the <code>NSManagedObjectModel</code> class extension:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">var</span> <span class="n">version1</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="n">uncloudNotesModel</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This method returns the first version of the data model. That takes care of getting the model, but what about checking the version of a model? Add the following property to the class extension:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">isVersion1</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="kc">self</span> <span class="p">==</span> <span class="kc">Self</span><span class="p">.</span><span class="n">version1</span>
<span class="p">}</span>
</code></pre></div>
<p>The comparison operator for <code>NSManagedObjectModel</code> isn’t very helpful for the purpose of properly checking model equality. To get the <code>==</code> comparison to work on two <code>NSManagedObjectModel</code> objects, add the following operator function to the file. You’ll need to add this outside of the class extension, right in the global scope:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="p">==</span> <span class="p">(</span>
  <span class="n">firstModel</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span><span class="p">,</span>
  <span class="n">otherModel</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span>
<span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="n">firstModel</span><span class="p">.</span><span class="n">entitiesByName</span> <span class="p">==</span> <span class="n">otherModel</span><span class="p">.</span><span class="n">entitiesByName</span>
<span class="p">}</span>
</code></pre></div>
<p>The idea here is simple: two <code>NSManagedObjectModel</code> objects are identical if they have the same collection of entities, with the same version hashes.</p>
<p>Now that everything is set up, you can repeat the version and isVersion pattern for the next 3 versions. Go ahead and add the following methods for versions 2 to 4 to the class extension:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">var</span> <span class="n">version2</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="n">uncloudNotesModel</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel v2&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">isVersion2</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="kc">self</span> <span class="p">==</span> <span class="kc">Self</span><span class="p">.</span><span class="n">version2</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">var</span> <span class="n">version3</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="n">uncloudNotesModel</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel v3&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">isVersion3</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="kc">self</span> <span class="p">==</span> <span class="kc">Self</span><span class="p">.</span><span class="n">version3</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">var</span> <span class="n">version4</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="n">uncloudNotesModel</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="s">&quot;UnCloudNotesDataModel v4&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">isVersion4</span><span class="p">:</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="kc">self</span> <span class="p">==</span> <span class="kc">Self</span><span class="p">.</span><span class="n">version4</span>
<span class="p">}</span>
</code></pre></div>
<p>Now that you have a way to compare model versions, you’ll need a way to check that a particular persistent store is compatible with a model version. Add these two helper methods to the <code>DataMigrationManager</code> class:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kd">func</span> <span class="nf">store</span><span class="p">(</span>
  <span class="n">at</span> <span class="n">storeURL</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span>
  <span class="n">isCompatibleWithModel</span> <span class="n">model</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span>
<span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">storeMetadata</span> <span class="p">=</span> <span class="n">metadataForStoreAtURL</span><span class="p">(</span><span class="n">storeURL</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">model</span><span class="p">.</span><span class="n">isConfiguration</span><span class="p">(</span>
    <span class="n">withName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="n">compatibleWithStoreMetadata</span><span class="p">:</span><span class="n">storeMetadata</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="kd">private</span> <span class="kd">func</span> <span class="nf">metadataForStoreAtURL</span><span class="p">(</span>
  <span class="n">storeURL</span><span class="p">:</span> <span class="n">URL</span>
<span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">metadata</span><span class="p">:</span> <span class="p">[</span><span class="nb">String</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span>
  <span class="k">do</span> <span class="p">{</span>
    <span class="n">metadata</span> <span class="p">=</span> <span class="k">try</span> <span class="bp">NSPersistentStoreCoordinator</span>
    <span class="p">.</span><span class="n">metadataForPersistentStore</span><span class="p">(</span>
      <span class="n">ofType</span><span class="p">:</span> <span class="n">NSSQLiteStoreType</span><span class="p">,</span>
      <span class="n">at</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span> 
      <span class="n">options</span><span class="p">:</span> <span class="kc">nil</span>
    <span class="p">)</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="n">metadata</span> <span class="p">=</span> <span class="p">[:]</span>
    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Error retrieving metadata for store at URL:</span>
<span class="s">      </span><span class="si">\(</span><span class="n">storeURL</span><span class="si">)</span><span class="s">: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">metadata</span>
<span class="p">}</span>
</code></pre></div>
<p>The first method is a simple convenience wrapper to determine whether the persistent store is compatible with a given model. The second method helps by safely retrieving the metadata for the store.</p>
<p>Next, add the following computed properties to the <code>DataMigrationManager</code> class:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kd">var</span> <span class="nv">applicationSupportURL</span><span class="p">:</span> <span class="n">URL</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">path</span> <span class="p">=</span> <span class="n">NSSearchPathForDirectoriesInDomains</span><span class="p">(</span>
    <span class="p">.</span><span class="n">applicationSupportDirectory</span><span class="p">,</span>
    <span class="p">.</span><span class="n">userDomainMask</span><span class="p">,</span>
    <span class="kc">true</span>
  <span class="p">).</span><span class="bp">first</span>
  <span class="k">return</span> <span class="n">URL</span><span class="p">(</span><span class="n">fileURLWithPath</span><span class="p">:</span> <span class="n">path</span><span class="p">!)</span>
<span class="p">}</span>

<span class="kd">private</span> <span class="kr">lazy</span> <span class="kd">var</span> <span class="nv">storeURL</span><span class="p">:</span> <span class="n">URL</span> <span class="p">=</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nv">storeFileName</span> <span class="p">=</span> <span class="s">&quot;</span><span class="si">\(</span><span class="kc">self</span><span class="p">.</span><span class="n">storeName</span><span class="si">)</span><span class="s">.sqlite&quot;</span>
  <span class="k">return</span> <span class="n">URL</span><span class="p">(</span>
    <span class="n">fileURLWithPath</span><span class="p">:</span> <span class="n">storeFileName</span><span class="p">,</span>
    <span class="n">relativeTo</span><span class="p">:</span> <span class="kc">self</span><span class="p">.</span><span class="n">applicationSupportURL</span>
  <span class="p">)</span>
<span class="p">}()</span>

<span class="kd">private</span> <span class="kd">var</span> <span class="nv">storeModel</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span><span class="p">?</span> <span class="p">{</span>
  <span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="n">modelVersionsFor</span><span class="p">(</span><span class="n">modelNamed</span><span class="p">:</span> <span class="n">modelName</span><span class="p">)</span>
    <span class="p">.</span><span class="bp">first</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="n">at</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span> <span class="n">isCompatibleWithModel</span><span class="p">:</span> <span class="nv">$0</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>These properties allow you to access the current store URL and model. As it turns out, there is no method in the CoreData API to ask a store for its model version. Instead, the easiest solution is brute force. Since you’ve already created helper methods to check if a store is compatible with a particular model, you’ll simply need to iterate through all the available models until you find one that works with the store.</p>
<p>Next, you need your migration manager to remember the current model version. To do this, you’ll first create a general use method for getting models from a bundle, then you’ll simply use that general purpose method to look up the model.</p>
<p>First, add the following method to the <code>NSManagedObjectModel</code> class extension:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">func</span> <span class="n">model</span><span class="p">(</span>
  <span class="n">named</span> <span class="n">modelName</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span>
  <span class="k">in</span> <span class="n">bundle</span><span class="p">:</span> <span class="n">Bundle</span> <span class="p">=</span> <span class="p">.</span><span class="n">main</span>
<span class="p">)</span> <span class="p">-&gt;</span> <span class="bp">NSManagedObjectModel</span> <span class="p">{</span>
  <span class="n">bundle</span>
    <span class="p">.</span><span class="n">url</span><span class="p">(</span><span class="n">forResource</span><span class="p">:</span> <span class="n">modelName</span><span class="p">,</span> <span class="n">withExtension</span><span class="p">:</span> <span class="s">&quot;momd&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="kd">init</span><span class="p">)</span>
      <span class="p">??</span> <span class="bp">NSManagedObjectModel</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>This handy method is used to initialize a managed objet model using the top level folder. Core Data will look for the current model version automatically and load that model into an <code>NSManagedObjectModel</code> for use. It’s important to note that this method will only work with with Core Data models that have been versioned.</p>
<p>Next, add a property to the <code>DataMigrationManager</code> class, as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kr">lazy</span> <span class="kd">var</span> <span class="nv">currentModel</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span> <span class="p">=</span>
    <span class="p">.</span><span class="n">model</span><span class="p">(</span><span class="n">named</span><span class="p">:</span> <span class="kc">self</span><span class="p">.</span><span class="n">modelName</span><span class="p">)</span>
</code></pre></div>
<p>The <code>currentModel</code> property is lazy, so it loads only once since it should return the same thing every time. The .model is the shorthand way of calling the just-added-function that will look up the model from the top level <code>momd</code> folder.</p>
<p>Of course, if the model you have isn’t the current model, that’s the time to run the migration! Add the following starter method to the <code>DataMigrationManager</code> class (which you’ll fill in later):</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span> <span class="nf">performMigration</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>Next, replace the stack property definition you added earlier with the following:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nv">stack</span><span class="p">:</span> <span class="n">CoreDataStack</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="n">enableMigrations</span><span class="p">,</span>
    <span class="o">!</span><span class="n">store</span><span class="p">(</span>
      <span class="n">at</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span>
      <span class="n">isCompatibleWithModel</span><span class="p">:</span> <span class="n">currentModel</span>
    <span class="p">)</span>
  <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="n">CoreDataStack</span><span class="p">(</span><span class="n">modelName</span><span class="p">:</span> <span class="n">modelName</span><span class="p">)</span> <span class="p">}</span>

  <span class="n">performMigration</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">CoreDataStack</span><span class="p">(</span><span class="n">modelName</span><span class="p">:</span> <span class="n">modelName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>In the end, the computed property will return a CoreDataStack instance. If the migration flag is set, then check if the store specified in the initialization is compatible with what Core Data determines to be the current version of the data model. If the store can’t be loaded with the current model, it needs to be migrated. Otherwise, you can use a stack object with whatever version the model is currently set.</p>
<p>You now have a self-migrating Core Data stack that can always be guaranteed to be up to date with the latest model version! Build the project to make sure everything compiles. The next step is to add the custom migration logic.</p>
<h3 id="the-self-migrating-stack">The self-migrating stack<a class="headerlink" href="#the-self-migrating-stack" title="Permanent link">&para;</a></h3>
<p>Now it’s time to start building out the migration logic. Add the following method to the <code>DataMigrationManager</code> class:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kd">func</span> <span class="nf">migrateStoreAt</span><span class="p">(</span>
  <span class="n">URL</span> <span class="n">storeURL</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span>
  <span class="n">fromModel</span> <span class="n">from</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span><span class="p">,</span>
  <span class="n">toModel</span> <span class="n">to</span><span class="p">:</span> <span class="bp">NSManagedObjectModel</span><span class="p">,</span>
  <span class="n">mappingModel</span><span class="p">:</span> <span class="bp">NSMappingModel</span><span class="p">?</span> <span class="p">=</span> <span class="kc">nil</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 1</span>
  <span class="kd">let</span> <span class="nv">migrationManager</span> <span class="p">=</span>
    <span class="bp">NSMigrationManager</span><span class="p">(</span><span class="n">sourceModel</span><span class="p">:</span> <span class="n">from</span><span class="p">,</span> <span class="n">destinationModel</span><span class="p">:</span> <span class="n">to</span><span class="p">)</span>

  <span class="c1">// 2</span>
  <span class="kd">var</span> <span class="nv">migrationMappingModel</span><span class="p">:</span> <span class="bp">NSMappingModel</span>
  <span class="k">if</span> <span class="kd">let</span> <span class="nv">mappingModel</span> <span class="p">=</span> <span class="n">mappingModel</span> <span class="p">{</span>
    <span class="n">migrationMappingModel</span> <span class="p">=</span> <span class="n">mappingModel</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">migrationMappingModel</span> <span class="p">=</span> <span class="k">try</span><span class="p">!</span> <span class="bp">NSMappingModel</span>
    <span class="p">.</span><span class="n">inferredMappingModel</span><span class="p">(</span>
        <span class="n">forSourceModel</span><span class="p">:</span> <span class="n">from</span><span class="p">,</span> <span class="n">destinationModel</span><span class="p">:</span> <span class="n">to</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// 3</span>
  <span class="kd">let</span> <span class="nv">targetURL</span> <span class="p">=</span> <span class="n">storeURL</span><span class="p">.</span><span class="n">deletingLastPathComponent</span><span class="p">()</span>
  <span class="kd">let</span> <span class="nv">destinationName</span> <span class="p">=</span> <span class="n">storeURL</span><span class="p">.</span><span class="n">lastPathComponent</span> <span class="o">+</span> <span class="s">&quot;~1&quot;</span>
  <span class="kd">let</span> <span class="nv">destinationURL</span> <span class="p">=</span> <span class="n">targetURL</span>
    <span class="p">.</span><span class="n">appendingPathComponent</span><span class="p">(</span><span class="n">destinationName</span><span class="p">)</span>

  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;From Model: </span><span class="si">\(</span><span class="n">from</span><span class="p">.</span><span class="n">entityVersionHashesByName</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;To Model: </span><span class="si">\(</span><span class="n">to</span><span class="p">.</span><span class="n">entityVersionHashesByName</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Migrating store </span><span class="si">\(</span><span class="n">storeURL</span><span class="si">)</span><span class="s"> to </span><span class="si">\(</span><span class="n">destinationURL</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Mapping model: </span><span class="si">\(</span><span class="nb">String</span><span class="si">(</span><span class="n">describing</span><span class="p">:</span> <span class="n">mappingModel</span><span class="si">))</span><span class="s">&quot;</span><span class="p">)</span>

  <span class="c1">// 4</span>
  <span class="kd">let</span> <span class="nv">success</span><span class="p">:</span> <span class="nb">Bool</span>
  <span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="n">migrationManager</span><span class="p">.</span><span class="n">migrateStore</span><span class="p">(</span>
      <span class="n">from</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span>
      <span class="n">sourceType</span><span class="p">:</span> <span class="n">NSSQLiteStoreType</span><span class="p">,</span>
      <span class="n">options</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
      <span class="n">with</span><span class="p">:</span> <span class="n">migrationMappingModel</span><span class="p">,</span>
      <span class="n">toDestinationURL</span><span class="p">:</span> <span class="n">destinationURL</span><span class="p">,</span>
      <span class="n">destinationType</span><span class="p">:</span> <span class="n">NSSQLiteStoreType</span><span class="p">,</span>
      <span class="n">destinationOptions</span><span class="p">:</span> <span class="kc">nil</span>
    <span class="p">)</span>
    <span class="n">success</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="n">success</span> <span class="p">=</span> <span class="kc">false</span>
    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Migration failed: </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// 5</span>
  <span class="k">if</span> <span class="n">success</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Migration Completed Successfully&quot;</span><span class="p">)</span>

    <span class="kd">let</span> <span class="nv">fileManager</span> <span class="p">=</span> <span class="n">FileManager</span><span class="p">.</span><span class="k">default</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="k">try</span> <span class="n">fileManager</span><span class="p">.</span><span class="n">removeItem</span><span class="p">(</span><span class="n">at</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">)</span>
        <span class="k">try</span> <span class="n">fileManager</span><span class="p">.</span><span class="n">moveItem</span><span class="p">(</span>
          <span class="n">at</span><span class="p">:</span> <span class="n">destinationURL</span><span class="p">,</span>
          <span class="n">to</span><span class="p">:</span> <span class="n">storeURL</span>
        <span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
      <span class="bp">print</span><span class="p">(</span><span class="s">&quot;Error migrating </span><span class="si">\(</span><span class="n">error</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This method does all the heavy lifting. If you need to do a lightweight migration, you can pass <code>nil</code> or simply skip the final parameter.</p>
<p>Here’s what’s going on, step by step:</p>
<ol>
<li>First, you create an instance of the migration manager.</li>
<li>If a mapping model was passed in to the method, use that. Otherwise, create an inferred mapping model.</li>
<li>Since migrations will create a second data store and migrate data, instance-by-instance, from the original to the new file, the destination URL must be a different file. Now, the example code in this section will create a <code>destinationURL</code> that is the same folder as the original and a file concatenated with “~1”. The destination URL can be in a temp folder or anywhere your app has access to write files.</li>
<li>Here’s where you put the migration manager to work! You’ve already set it up with the source and destination models, so you simply need to add the mapping model and the two URLs to the mix.</li>
<li>Given the result, you can print a success or error message to the console. In the success case, you perform a bit of cleanup, too. In this case, it’s enough to remove the old store and replace it with the new store.</li>
</ol>
<p>Now it’s simply a matter of calling that method with the right parameters. Remember your empty implementation of <code>performMigration</code>? It’s time to fill that in.</p>
<p>Add the following lines to that method:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="o">!</span><span class="n">currentModel</span><span class="p">.</span><span class="n">isVersion4</span> <span class="p">{</span>
  <span class="bp">fatalError</span><span class="p">(</span><span class="s">&quot;Can only handle migrations to version 4!&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>This code will only check that the current model is the most recent version of the model. This code bails out and kills the app if the current model is anything other than version 4. This is a little extreme — in your own apps, you might want to continue the migration anyway — but doing it this way will definitely remind you to think about migrations if you ever add another data model version to your app! Thankfully, even though this is the first check in the <code>performMigration</code> method, it should never be run as the next section stops after the last available migration has been applied.</p>
<p>The <code>performMigration</code> method can be improved to handle all known model versions. To do this, add the following below the previously added if-statement:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="kd">let</span> <span class="nv">storeModel</span> <span class="p">=</span> <span class="kc">self</span><span class="p">.</span><span class="n">storeModel</span> <span class="p">{</span>
  <span class="k">if</span> <span class="n">storeModel</span><span class="p">.</span><span class="n">isVersion1</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">destinationModel</span> <span class="p">=</span> <span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="n">version2</span>

    <span class="n">migrateStoreAt</span><span class="p">(</span>
      <span class="n">URL</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span>
      <span class="n">fromModel</span><span class="p">:</span> <span class="n">storeModel</span><span class="p">,</span>
      <span class="n">toModel</span><span class="p">:</span> <span class="n">destinationModel</span>
    <span class="p">)</span>

    <span class="n">performMigration</span><span class="p">()</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">storeModel</span><span class="p">.</span><span class="n">isVersion2</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">destinationModel</span> <span class="p">=</span> <span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="n">version3</span>
    <span class="kd">let</span> <span class="nv">mappingModel</span> <span class="p">=</span> <span class="bp">NSMappingModel</span><span class="p">(</span>
      <span class="n">from</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
      <span class="n">forSourceModel</span><span class="p">:</span> <span class="n">storeModel</span><span class="p">,</span>
      <span class="n">destinationModel</span><span class="p">:</span> <span class="n">destinationModel</span>
    <span class="p">)</span>

    <span class="n">migrateStoreAt</span><span class="p">(</span>
      <span class="n">URL</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span>
      <span class="n">fromModel</span><span class="p">:</span> <span class="n">storeModel</span><span class="p">,</span>
      <span class="n">toModel</span><span class="p">:</span> <span class="n">destinationModel</span><span class="p">,</span>
      <span class="n">mappingModel</span><span class="p">:</span> <span class="n">mappingModel</span>
    <span class="p">)</span>

    <span class="n">performMigration</span><span class="p">()</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">storeModel</span><span class="p">.</span><span class="n">isVersion3</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">destinationModel</span> <span class="p">=</span> <span class="bp">NSManagedObjectModel</span><span class="p">.</span><span class="n">version4</span>
    <span class="kd">let</span> <span class="nv">mappingModel</span> <span class="p">=</span> <span class="bp">NSMappingModel</span><span class="p">(</span>
      <span class="n">from</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
      <span class="n">forSourceModel</span><span class="p">:</span> <span class="n">storeModel</span><span class="p">,</span>
      <span class="n">destinationModel</span><span class="p">:</span> <span class="n">destinationModel</span>
    <span class="p">)</span>

    <span class="n">migrateStoreAt</span><span class="p">(</span>
      <span class="n">URL</span><span class="p">:</span> <span class="n">storeURL</span><span class="p">,</span>
      <span class="n">fromModel</span><span class="p">:</span> <span class="n">storeModel</span><span class="p">,</span>
      <span class="n">toModel</span><span class="p">:</span> <span class="n">destinationModel</span><span class="p">,</span>
      <span class="n">mappingModel</span><span class="p">:</span> <span class="n">mappingModel</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The steps are similar, no matter which version you start from:</p>
<ul>
<li>Lightweight migrations use simple flags to 1) enable migrations, and 2) infer the mapping model. Since the <code>migrateStoreAt</code> method will infer a mapping model if one is missing, you’ve successfully replaced that functionality. By running <code>performMigration</code>, you’ve already enabled migrations.</li>
<li>Set the destination model to the correct model version. Remember, you’re only going “up” one version at a time, so from 1 to 2 and from 2 to 3.</li>
<li>For version 2 and above, also load the mapping model.</li>
<li>Finally, call <code>migrateStoreAt(URL:fromModel:toModel:mappingModel:)</code>, which you wrote at the start of this section.</li>
</ul>
<p>What’s nice about this solution is that the <code>DataMigrationManager</code> class, despite all the comparison support helper functions, is essentially using the mapping models and code that was already defined for each migration.</p>
<p>This solution is manually applying each migration in sequence rather than letting Core Data try to do things automatically.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re starting from version 1 or 2, there’s a recursive call to performMigration() at the end. This will trigger another run to continue the sequence; once you’re at version 3 and run the migration to get to version 4. You will continue adding to this method as you add more data model versions to continue the automatic sequence of migrations.</p>
</div>
<h2 id="testing-sequential-migrations">Testing sequential migrations<a class="headerlink" href="#testing-sequential-migrations" title="Permanent link">&para;</a></h2>
<p>Testing this type of migration can be a little complicated, since you need to go back in time and run previous versions of the app to generate data to migrate. If you saved copies of the app project along the way, great!</p>
<p>Otherwise, you’ll find previous versions of the project in the resources bundled with the book.</p>
<p>First, make sure you make a copy of the project as it is right now — that’s the final project!</p>
<p>Here are the general steps you’ll need to take to test each migration:</p>
<ol>
<li>Delete the app from the Simulator to clear out the data store.</li>
<li>Open version 2 of the app (so you can at least see some pictures!), and build and run.</li>
<li>Create some test notes.</li>
<li>Quit the app from Xcode and close the project.</li>
<li>Open the final version of the app, and build and run.</li>
</ol>
<p>At this point, you should see some console output with the migration status. Note the migration will happen prior to the app presenting onscreen.</p>
<p><img alt="img" src="https://assets.alexandria.raywenderlich.com/books/cdt/images/26496c91a0582037bba121db7735a6efa1bc23e72afb276e135d91754ba47349/original.png" /></p>
<p>You now have an app that will successfully migrate between any combinations of old data versions to the latest version.</p>
<h2 id="key-points">Key points<a class="headerlink" href="#key-points" title="Permanent link">&para;</a></h2>
<ul>
<li>A migration is necessary when you need to make changes to the data model.</li>
<li>Use the simplest migration method possible.</li>
<li>Lightweight migration is Apple’s term for the migration with the least amount of work involved on your part.</li>
<li>Heavyweight migrations, as described by Apple, can incorporate several different types of custom migration.</li>
<li>Custom migrations let you create a mapping model to direct Core Data to make more complex changes that lightweight can’t do automatically.</li>
<li>Once a mapping model has been created, do not change the target model.</li>
<li>Custom manual migrations go one step further from a mapping model and let you change the model from code.</li>
<li>Fully manual migrations let your app migrate sequentially from one version to the next preventing issues if a user skips updating their device to a version in between.</li>
<li>Migration testing is tricky because it is dependent on the data from the source store. Make sure to test several scenarios before releasing your app to the App Store.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.48f2be22.min.js"></script>
      
    
  </body>
</html>